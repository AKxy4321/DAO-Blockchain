{"ast":null,"code":"\"use strict\";\n\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ContractManager_contractNetworks, _ContractManager_isL1SafeMasterCopy, _ContractManager_safeContract, _ContractManager_multiSendContract, _ContractManager_multiSendCallOnlyContract;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst config_1 = require(\"../contracts/config\");\nconst safeDeploymentContracts_1 = require(\"../contracts/safeDeploymentContracts\");\nclass ContractManager {\n  constructor() {\n    _ContractManager_contractNetworks.set(this, void 0);\n    _ContractManager_isL1SafeMasterCopy.set(this, void 0);\n    _ContractManager_safeContract.set(this, void 0);\n    _ContractManager_multiSendContract.set(this, void 0);\n    _ContractManager_multiSendCallOnlyContract.set(this, void 0);\n  }\n  static async create(_ref) {\n    let {\n      ethAdapter,\n      safeAddress,\n      isL1SafeMasterCopy,\n      contractNetworks\n    } = _ref;\n    const contractManager = new ContractManager();\n    await contractManager.init({\n      ethAdapter,\n      safeAddress,\n      isL1SafeMasterCopy,\n      contractNetworks\n    });\n    return contractManager;\n  }\n  async init(_ref2) {\n    let {\n      ethAdapter,\n      safeAddress,\n      isL1SafeMasterCopy,\n      contractNetworks\n    } = _ref2;\n    const chainId = await ethAdapter.getChainId();\n    const customContracts = contractNetworks === null || contractNetworks === void 0 ? void 0 : contractNetworks[chainId];\n    __classPrivateFieldSet(this, _ContractManager_contractNetworks, contractNetworks, \"f\");\n    __classPrivateFieldSet(this, _ContractManager_isL1SafeMasterCopy, isL1SafeMasterCopy, \"f\");\n    const temporarySafeContract = await (0, safeDeploymentContracts_1.getSafeContract)({\n      ethAdapter,\n      safeVersion: config_1.SAFE_LAST_VERSION,\n      chainId,\n      isL1SafeMasterCopy,\n      customSafeAddress: safeAddress,\n      customContracts\n    });\n    const safeVersion = await temporarySafeContract.getVersion();\n    __classPrivateFieldSet(this, _ContractManager_safeContract, await (0, safeDeploymentContracts_1.getSafeContract)({\n      ethAdapter,\n      safeVersion,\n      chainId,\n      isL1SafeMasterCopy,\n      customSafeAddress: safeAddress,\n      customContracts\n    }), \"f\");\n    __classPrivateFieldSet(this, _ContractManager_multiSendContract, await (0, safeDeploymentContracts_1.getMultiSendContract)({\n      ethAdapter,\n      safeVersion,\n      chainId,\n      customContracts\n    }), \"f\");\n    __classPrivateFieldSet(this, _ContractManager_multiSendCallOnlyContract, await (0, safeDeploymentContracts_1.getMultiSendCallOnlyContract)({\n      ethAdapter,\n      safeVersion,\n      chainId,\n      customContracts\n    }), \"f\");\n  }\n  get contractNetworks() {\n    return __classPrivateFieldGet(this, _ContractManager_contractNetworks, \"f\");\n  }\n  get isL1SafeMasterCopy() {\n    return __classPrivateFieldGet(this, _ContractManager_isL1SafeMasterCopy, \"f\");\n  }\n  get safeContract() {\n    return __classPrivateFieldGet(this, _ContractManager_safeContract, \"f\");\n  }\n  get multiSendContract() {\n    return __classPrivateFieldGet(this, _ContractManager_multiSendContract, \"f\");\n  }\n  get multiSendCallOnlyContract() {\n    return __classPrivateFieldGet(this, _ContractManager_multiSendCallOnlyContract, \"f\");\n  }\n}\n_ContractManager_contractNetworks = new WeakMap(), _ContractManager_isL1SafeMasterCopy = new WeakMap(), _ContractManager_safeContract = new WeakMap(), _ContractManager_multiSendContract = new WeakMap(), _ContractManager_multiSendCallOnlyContract = new WeakMap();\nexports.default = ContractManager;","map":{"version":3,"names":["config_1","require","safeDeploymentContracts_1","ContractManager","constructor","_ContractManager_contractNetworks","set","_ContractManager_isL1SafeMasterCopy","_ContractManager_safeContract","_ContractManager_multiSendContract","_ContractManager_multiSendCallOnlyContract","create","_ref","ethAdapter","safeAddress","isL1SafeMasterCopy","contractNetworks","contractManager","init","_ref2","chainId","getChainId","customContracts","__classPrivateFieldSet","temporarySafeContract","getSafeContract","safeVersion","SAFE_LAST_VERSION","customSafeAddress","getVersion","getMultiSendContract","getMultiSendCallOnlyContract","__classPrivateFieldGet","safeContract","multiSendContract","multiSendCallOnlyContract","exports","default"],"sources":["../../../src/managers/contractManager.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;AAKA,MAAAA,QAAA,GAAAC,OAAA;AACA,MAAAC,yBAAA,GAAAD,OAAA;AAQA,MAAME,eAAe;EAArBC,YAAA;IACEC,iCAAA,CAAAC,GAAA;IACAC,mCAAA,CAAAD,GAAA;IACAE,6BAAA,CAAAF,GAAA;IACAG,kCAAA,CAAAH,GAAA;IACAI,0CAAA,CAAAJ,GAAA;EA0EF;EAxEE,aAAaK,MAAMA,CAAAC,IAAA,EAKN;IAAA,IALO;MAClBC,UAAU;MACVC,WAAW;MACXC,kBAAkB;MAClBC;IAAgB,CACL,GAAAJ,IAAA;IACX,MAAMK,eAAe,GAAG,IAAId,eAAe,EAAE;IAC7C,MAAMc,eAAe,CAACC,IAAI,CAAC;MAAEL,UAAU;MAAEC,WAAW;MAAEC,kBAAkB;MAAEC;IAAgB,CAAE,CAAC;IAC7F,OAAOC,eAAe;EACxB;EAEA,MAAMC,IAAIA,CAAAC,KAAA,EAKG;IAAA,IALF;MACTN,UAAU;MACVC,WAAW;MACXC,kBAAkB;MAClBC;IAAgB,CACL,GAAAG,KAAA;IACX,MAAMC,OAAO,GAAG,MAAMP,UAAU,CAACQ,UAAU,EAAE;IAC7C,MAAMC,eAAe,GAAGN,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAGI,OAAO,CAAC;IACnDG,sBAAA,KAAI,EAAAlB,iCAAA,EAAqBW,gBAAgB;IACzCO,sBAAA,KAAI,EAAAhB,mCAAA,EAAuBQ,kBAAkB;IAE7C,MAAMS,qBAAqB,GAAG,MAAM,IAAAtB,yBAAA,CAAAuB,eAAe,EAAC;MAClDZ,UAAU;MACVa,WAAW,EAAE1B,QAAA,CAAA2B,iBAAiB;MAC9BP,OAAO;MACPL,kBAAkB;MAClBa,iBAAiB,EAAEd,WAAW;MAC9BQ;KACD,CAAC;IACF,MAAMI,WAAW,GAAG,MAAMF,qBAAqB,CAACK,UAAU,EAAE;IAC5DN,sBAAA,KAAI,EAAAf,6BAAA,EAAiB,MAAM,IAAAN,yBAAA,CAAAuB,eAAe,EAAC;MACzCZ,UAAU;MACVa,WAAW;MACXN,OAAO;MACPL,kBAAkB;MAClBa,iBAAiB,EAAEd,WAAW;MAC9BQ;KACD,CAAC;IACFC,sBAAA,KAAI,EAAAd,kCAAA,EAAsB,MAAM,IAAAP,yBAAA,CAAA4B,oBAAoB,EAAC;MACnDjB,UAAU;MACVa,WAAW;MACXN,OAAO;MACPE;KACD,CAAC;IACFC,sBAAA,KAAI,EAAAb,0CAAA,EAA8B,MAAM,IAAAR,yBAAA,CAAA6B,4BAA4B,EAAC;MACnElB,UAAU;MACVa,WAAW;MACXN,OAAO;MACPE;KACD,CAAC;EACJ;EAEA,IAAIN,gBAAgBA,CAAA;IAClB,OAAOgB,sBAAA,KAAI,EAAA3B,iCAAA,MAAkB;EAC/B;EAEA,IAAIU,kBAAkBA,CAAA;IACpB,OAAOiB,sBAAA,KAAI,EAAAzB,mCAAA,MAAoB;EACjC;EAEA,IAAI0B,YAAYA,CAAA;IACd,OAAOD,sBAAA,KAAI,EAAAxB,6BAAA,MAAc;EAC3B;EAEA,IAAI0B,iBAAiBA,CAAA;IACnB,OAAOF,sBAAA,KAAI,EAAAvB,kCAAA,MAAmB;EAChC;EAEA,IAAI0B,yBAAyBA,CAAA;IAC3B,OAAOH,sBAAA,KAAI,EAAAtB,0CAAA,MAA2B;EACxC;;;AAGF0B,OAAA,CAAAC,OAAA,GAAelC,eAAe"},"metadata":{},"sourceType":"script","externalDependencies":[]}