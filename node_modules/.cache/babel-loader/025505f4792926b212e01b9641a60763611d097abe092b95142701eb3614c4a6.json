{"ast":null,"code":"import { u as useScreenContext, E as ExportLocalWallet, s as shortenAddress } from './useWalletConnect-8a1a7bf9.browser.esm.js';\nexport { a as ConnectModalInline, C as ConnectWallet, M as MediaRenderer, N as NetworkSelector, o as ThirdwebNftMedia, T as ThirdwebProvider, W as Web3Button, d as defaultTokens, i as useBloctoWallet, g as useCoinbaseWallet, h as useFrameWallet, b as useInstalledWallets, f as useMetamask, k as usePaperWallet, j as usePaperWalletUserEmail, c as useRainbowWallet, n as useResolvedMediaType, e as useTrustWallet, l as useWalletConnect, m as useWalletConnectV1 } from './useWalletConnect-8a1a7bf9.browser.esm.js';\nimport { F as FormFieldWithIconButton, w as wait, H as HeadlessConnectUI } from './formFields-aa9e8c3f.browser.esm.js';\nexport { c as coinbaseWallet, d as defaultWallets, m as metamaskWallet, p as phantomWallet, r as rainbowWallet, t as trustWallet, a as walletConnect, z as zerionWallet } from './formFields-aa9e8c3f.browser.esm.js';\nimport { useConnect, useCreateWalletInstance, useSetConnectionStatus, useSetConnectedWallet, useConnectionStatus, useWalletContext, useWallet, useChain, useNetworkMismatch, useSwitchChain } from '@thirdweb-dev/react-core';\nexport * from '@thirdweb-dev/react-core';\nimport { useCallback, useEffect, useState, useRef, useContext } from 'react';\nexport { bloctoWallet } from './bloctoWallet-41e93ea8.browser.esm.js';\nimport { EmbeddedWallet, LocalWallet, SmartWallet } from '@thirdweb-dev/wallets';\nexport { BloctoWallet, CoinbaseWallet, EmbeddedWallet, FrameWallet, InjectedWallet, LocalWallet, MagicLink, MetaMaskWallet, PaperWallet, PhantomWallet, RainbowWallet, SafeWallet, SignerWallet, SmartWallet, TrustWallet, WalletConnect, ZerionWallet } from '@thirdweb-dev/wallets';\nimport { B as Button, s as spacing, i as iconSize, S as Spacer, T as TextDivider, C as Container, M as ModalHeader, a as ModalTitle, b as Text, c as Spinner, f as fontSize, L as Line, r as reservedScreens, W as WalletEntryButton, d as radius, e as isMobile, g as ModalDescription, h as Label, j as ModalConfigCtx } from './formElements-49d2196e.browser.esm.js';\nexport { k as darkTheme, l as lightTheme, u as useIsWalletModalOpen, m as useSetIsWalletModalOpen } from './formElements-49d2196e.browser.esm.js';\nimport { e as emailIcon } from './Tooltip-c0cbeb52.browser.esm.js';\nimport styled from '@emotion/styled';\nimport { G as GoogleIcon, o as openGoogleSignInWindow, O as OTPInput, F as FadeIn } from './paperWallet-968c4544.browser.esm.js';\nexport { p as paperWallet } from './paperWallet-968c4544.browser.esm.js';\nimport { I as InputSelectionUI } from './InputSelectionUI-6fc61f90.browser.esm.js';\nimport { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nexport { frameWallet } from './frameWallet-58773886.browser.esm.js';\nimport { UploadIcon, EyeClosedIcon, EyeOpenIcon, PlusIcon, PinBottomIcon, ExclamationTriangleIcon } from '@radix-ui/react-icons';\nexport { magicLink } from './magicLink-a4683714.browser.esm.js';\nexport { safeWallet } from './safeWallet-1c3642a3.browser.esm.js';\nexport { walletConnectV1 } from './walletConnectV1-0f88eb7f.browser.esm.js';\nexport { u as useSafe } from './useSafe-17873824.browser.esm.js';\nexport { u as useMagic } from './useMagic-1082ce04.browser.esm.js';\nimport '@tanstack/react-query';\nimport '@emotion/react';\nimport '@radix-ui/react-popover';\nimport 'copy-to-clipboard';\nimport 'ethers';\nimport '@radix-ui/react-tabs';\nimport 'fuse.js';\nimport '@radix-ui/react-dropdown-menu';\nimport '@thirdweb-dev/chains';\nimport '@thirdweb-dev/sdk';\nimport 'tiny-invariant';\nimport '@radix-ui/react-dialog';\nimport 'qrcode';\nimport 'detect-browser';\nimport '@radix-ui/colors';\nimport '@radix-ui/react-tooltip';\nfunction useSmartWallet() {\n  const connect = useConnect();\n  return useCallback(async (wallet, options) => {\n    const {\n      smartWallet\n    } = await Promise.resolve().then(function () {\n      return smartWallet$1;\n    });\n    return connect(smartWallet(wallet, options), options);\n  }, [connect]);\n}\nconst EmbeddedWalletFormUI = props => {\n  const createWalletInstance = useCreateWalletInstance();\n  const setConnectionStatus = useSetConnectionStatus();\n  const setConnectedWallet = useSetConnectedWallet();\n\n  // Need to trigger google login on button click to avoid popup from being blocked\n  const googleLogin = async () => {\n    try {\n      const embeddedWallet = createWalletInstance(props.walletConfig);\n      setConnectionStatus(\"connecting\");\n      const googleWindow = openGoogleSignInWindow();\n      if (!googleWindow) {\n        throw new Error(\"Failed to open google login window\");\n      }\n      await embeddedWallet.connect({\n        loginType: \"headless_google_oauth\",\n        openedWindow: googleWindow,\n        closeOpenedWindow: openedWindow => {\n          openedWindow.close();\n        }\n      });\n      setConnectedWallet(embeddedWallet);\n    } catch (e) {\n      setConnectionStatus(\"disconnected\");\n      console.error(e);\n    }\n  };\n  return /*#__PURE__*/jsxs(\"div\", {\n    children: [/*#__PURE__*/jsxs(SocialButton, {\n      variant: \"secondary\",\n      fullWidth: true,\n      onClick: () => {\n        googleLogin();\n        props.onSelect({\n          google: true\n        });\n      },\n      children: [/*#__PURE__*/jsx(GoogleIcon, {\n        size: iconSize.md\n      }), \"Sign in with Google\"]\n    }), /*#__PURE__*/jsx(Spacer, {\n      y: \"lg\"\n    }), /*#__PURE__*/jsx(TextDivider, {\n      children: /*#__PURE__*/jsx(\"span\", {\n        children: \"OR\"\n      })\n    }), /*#__PURE__*/jsx(Spacer, {\n      y: \"lg\"\n    }), /*#__PURE__*/jsx(InputSelectionUI, {\n      onSelect: email => props.onSelect({\n        email\n      }),\n      placeholder: \"Enter your email address\",\n      name: \"email\",\n      type: \"email\",\n      errorMessage: _input => {\n        const input = _input.replace(/\\+/g, \"\");\n        const emailRegex = /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,})$/g;\n        const isValidEmail = emailRegex.test(input);\n        if (!isValidEmail) {\n          return \"Invalid email address\";\n        }\n      },\n      emptyErrorMessage: \"email address is required\",\n      showOrSeparator: props.showOrSeparator\n    })]\n  });\n};\nconst EmbeddedWalletFormUIScreen = props => {\n  const isCompact = props.modalSize === \"compact\";\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    p: \"lg\",\n    animate: \"fadein\",\n    style: {\n      minHeight: \"250px\"\n    },\n    children: [/*#__PURE__*/jsx(ModalHeader, {\n      onBack: props.onBack,\n      title: \"Sign in\"\n    }), isCompact ? /*#__PURE__*/jsx(Spacer, {\n      y: \"xl\"\n    }) : null, /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"y\",\n      p: isCompact ? undefined : \"lg\",\n      children: /*#__PURE__*/jsx(EmbeddedWalletFormUI, {\n        walletConfig: props.walletConfig,\n        onSelect: props.onSelect,\n        showOrSeparator: false\n      })\n    })]\n  });\n};\nconst SocialButton = styled(Button)`\n  display: flex;\n  justify-content: center;\n  gap: ${spacing.sm};\n`;\nconst EmbeddedWalletGoogleLogin = props => {\n  const {\n    goBack,\n    modalSize\n  } = props;\n  const createWalletInstance = useCreateWalletInstance();\n  const setConnectionStatus = useSetConnectionStatus();\n  const setConnectedWallet = useSetConnectedWallet();\n  const connectionStatus = useConnectionStatus();\n  const googleLogin = async () => {\n    try {\n      const embeddedWallet = createWalletInstance(props.walletConfig);\n      setConnectionStatus(\"connecting\");\n      const googleWindow = openGoogleSignInWindow();\n      if (!googleWindow) {\n        throw new Error(\"Failed to open google login window\");\n      }\n      await embeddedWallet.connect({\n        loginType: \"headless_google_oauth\",\n        openedWindow: googleWindow,\n        closeOpenedWindow: openedWindow => {\n          openedWindow.close();\n        }\n      });\n      setConnectedWallet(embeddedWallet);\n      props.close();\n    } catch (e) {\n      setConnectionStatus(\"disconnected\");\n      console.error(\"Error logging into google\", e);\n    }\n  };\n  const closeModal = props.close;\n  useEffect(() => {\n    if (connectionStatus === \"connected\") {\n      closeModal();\n    }\n  }, [connectionStatus, closeModal]);\n  return /*#__PURE__*/jsx(Container, {\n    animate: \"fadein\",\n    flex: \"column\",\n    fullHeight: true,\n    children: /*#__PURE__*/jsxs(Container, {\n      flex: \"column\",\n      expand: true,\n      p: \"lg\",\n      style: {\n        paddingBottom: 0\n      },\n      children: [/*#__PURE__*/jsx(ModalHeader, {\n        title: /*#__PURE__*/jsxs(Container, {\n          flex: \"row\",\n          center: \"both\",\n          gap: \"xs\",\n          children: [/*#__PURE__*/jsx(GoogleIcon, {\n            size: iconSize.md\n          }), /*#__PURE__*/jsx(ModalTitle, {\n            children: \" Sign in \"\n          })]\n        }),\n        onBack: goBack\n      }), modalSize === \"compact\" ? /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }) : null, /*#__PURE__*/jsxs(Container, {\n        flex: \"column\",\n        center: \"both\",\n        expand: true,\n        style: {\n          textAlign: \"center\",\n          minHeight: \"250px\"\n        },\n        children: [connectionStatus === \"connecting\" && /*#__PURE__*/jsxs(Container, {\n          animate: \"fadein\",\n          children: [/*#__PURE__*/jsx(Text, {\n            color: \"primaryText\",\n            multiline: true,\n            style: {\n              maxWidth: \"250px\"\n            },\n            children: \"Select your Google account in the pop-up\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          }), /*#__PURE__*/jsx(Container, {\n            center: \"x\",\n            flex: \"row\",\n            children: /*#__PURE__*/jsx(Spinner, {\n              size: \"lg\",\n              color: \"accentText\"\n            })\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xxl\"\n          })]\n        }), connectionStatus === \"disconnected\" && /*#__PURE__*/jsxs(Container, {\n          animate: \"fadein\",\n          children: [/*#__PURE__*/jsx(Text, {\n            color: \"danger\",\n            children: \"Failed to sign in\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"lg\"\n          }), /*#__PURE__*/jsxs(Button, {\n            variant: \"primary\",\n            onClick: googleLogin,\n            children: [\" \", \"Retry\", \" \"]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xxl\"\n          })]\n        })]\n      })]\n    })\n  });\n};\nconst EmbeddedWalletOTPLoginUI = props => {\n  const email = props.selectionData;\n  const [otpInput, setOtpInput] = useState(\"\");\n  const {\n    createWalletInstance,\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [wallet, setWallet] = useState(null);\n  const isWideModal = props.modalSize === \"wide\";\n  const [verifyStatus, setVerifyStatus] = useState(\"idle\");\n  const [sendEmailOtpStatus, setSendEmailOtpStatus] = useState(\"sending\");\n  const sendEmail = useCallback(async () => {\n    setOtpInput(\"\");\n    setVerifyStatus(\"idle\");\n    setSendEmailOtpStatus(\"sending\");\n    try {\n      const _wallet = createWalletInstance(props.walletConfig);\n      setWallet(_wallet);\n      const _embeddedWalletSdk = await _wallet.getEmbeddedWalletSDK();\n      await _embeddedWalletSdk.auth.sendEmailLoginOtp({\n        email: email\n      });\n      setSendEmailOtpStatus(\"sent\");\n    } catch (e) {\n      console.error(e);\n      setVerifyStatus(\"idle\");\n      setSendEmailOtpStatus(\"error\");\n    }\n  }, [createWalletInstance, email, props.walletConfig]);\n  const handleSubmit = otp => {\n    if (sendEmailOtpStatus !== \"sent\" || otp.length !== 6) {\n      return;\n    }\n    verifyCodes(otp);\n  };\n  const verifyCodes = async otp => {\n    setVerifyStatus(\"idle\");\n    if (!wallet) {\n      return;\n    }\n    try {\n      setVerifyStatus(\"verifying\");\n      setConnectionStatus(\"connecting\");\n      await wallet.connect({\n        loginType: \"headless_email_otp_verification\",\n        email,\n        otp\n      });\n      setConnectedWallet(wallet);\n      setVerifyStatus(\"valid\");\n      props.close();\n    } catch (e) {\n      setVerifyStatus(\"invalid\");\n      console.error(e);\n    }\n  };\n\n  // send email on mount\n  const emailSentOnMount = useRef(false);\n  useEffect(() => {\n    if (!emailSentOnMount.current) {\n      emailSentOnMount.current = true;\n      sendEmail();\n    }\n  }, [sendEmail]);\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        title: \"Sign in\",\n        onBack: props.goBack\n      })\n    }), /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"y\",\n      children: /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n        },\n        children: [/*#__PURE__*/jsxs(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [!isWideModal && /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          }), /*#__PURE__*/jsx(Text, {\n            children: \"Enter the OTP sent to\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"sm\"\n          }), /*#__PURE__*/jsx(Text, {\n            color: \"primaryText\",\n            children: email\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xxl\"\n          })]\n        }), /*#__PURE__*/jsx(OTPInput, {\n          isInvalid: verifyStatus === \"invalid\",\n          digits: 6,\n          value: otpInput,\n          setValue: value => {\n            setOtpInput(value);\n            setVerifyStatus(\"idle\"); // reset error\n            handleSubmit(value);\n          },\n          onEnter: () => {\n            handleSubmit(otpInput);\n          }\n        }), verifyStatus === \"invalid\" && /*#__PURE__*/jsxs(FadeIn, {\n          children: [/*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsx(Text, {\n            size: \"sm\",\n            color: \"danger\",\n            center: true,\n            children: \"Invalid OTP\"\n          })]\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xxl\"\n        }), /*#__PURE__*/jsx(Container, {\n          px: isWideModal ? \"xxl\" : \"lg\",\n          children: verifyStatus === \"verifying\" ? /*#__PURE__*/jsx(Fragment, {\n            children: /*#__PURE__*/jsx(Container, {\n              flex: \"row\",\n              center: \"x\",\n              animate: \"fadein\",\n              children: /*#__PURE__*/jsx(Spinner, {\n                size: \"lg\",\n                color: \"accentText\"\n              })\n            })\n          }) : /*#__PURE__*/jsx(Container, {\n            animate: \"fadein\",\n            children: /*#__PURE__*/jsx(Button, {\n              onClick: () => handleSubmit(otpInput),\n              variant: \"accent\",\n              type: \"submit\",\n              style: {\n                width: \"100%\"\n              },\n              children: \"Verify\"\n            })\n          }, \"btn-container\")\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xxl\"\n        }), !isWideModal && /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n          p: isWideModal ? undefined : \"lg\",\n          children: [sendEmailOtpStatus === \"error\" && /*#__PURE__*/jsxs(Fragment, {\n            children: [/*#__PURE__*/jsx(Text, {\n              size: \"sm\",\n              center: true,\n              color: \"danger\",\n              children: \"Failed to send OTP\"\n            }), /*#__PURE__*/jsx(Spacer, {\n              y: \"md\"\n            })]\n          }), sendEmailOtpStatus === \"sending\" && /*#__PURE__*/jsxs(Container, {\n            flex: \"row\",\n            center: \"both\",\n            gap: \"xs\",\n            style: {\n              textAlign: \"center\"\n            },\n            children: [/*#__PURE__*/jsx(Text, {\n              size: \"sm\",\n              children: \"Sending OTP\"\n            }), /*#__PURE__*/jsx(Spinner, {\n              size: \"xs\",\n              color: \"secondaryText\"\n            })]\n          }), sendEmailOtpStatus === \"sent\" && /*#__PURE__*/jsx(LinkButton, {\n            onClick: sendEmail,\n            type: \"button\",\n            children: \"Resend OTP\"\n          })]\n        })]\n      })\n    })]\n  });\n};\nconst LinkButton = styled.button`\n  all: unset;\n  color: ${p => p.theme.colors.accentText};\n  font-size: ${fontSize.sm};\n  cursor: pointer;\n  text-align: center;\n  font-weight: 500;\n  width: 100%;\n  &:hover {\n    color: ${p => p.theme.colors.primaryText};\n  }\n`;\nconst embeddedWallet = config => {\n  return {\n    category: \"socialLogin\",\n    id: EmbeddedWallet.id,\n    recommended: config?.recommended,\n    meta: {\n      ...EmbeddedWallet.meta,\n      name: \"Email\",\n      iconURL: emailIcon\n    },\n    create(options) {\n      return new EmbeddedWallet({\n        ...options,\n        ...config,\n        clientId: options?.clientId ?? \"\"\n      });\n    },\n    selectUI(props) {\n      return /*#__PURE__*/jsx(EmbeddedWalletSelectionUI, {\n        ...props\n      });\n    },\n    connectUI(props) {\n      return /*#__PURE__*/jsx(EmbeddedWalletConnectUI, {\n        ...props\n      });\n    }\n  };\n};\nconst EmbeddedWalletSelectionUI = props => {\n  const screen = useScreenContext();\n\n  // show the icon + text if\n  // wide -\n  // compact + not main screen (safe/smart wallet list screen)\n  if (props.modalSize === \"wide\" || screen !== reservedScreens.main && props.modalSize === \"compact\") {\n    return /*#__PURE__*/jsx(WalletEntryButton, {\n      walletConfig: props.walletConfig,\n      selectWallet: () => {\n        props.onSelect(undefined);\n      }\n    });\n  }\n  return /*#__PURE__*/jsx(\"div\", {\n    children: /*#__PURE__*/jsx(EmbeddedWalletFormUI, {\n      showOrSeparator: props.supportedWallets.length > 1,\n      onSelect: props.onSelect,\n      walletConfig: props.walletConfig\n    })\n  });\n};\nconst EmbeddedWalletConnectUI = props => {\n  const [loginType, setLoginType] = useState(props.selectionData);\n  if (loginType) {\n    const handleBack = () => {\n      // go back to base screen\n      if (props.modalSize === \"wide\") {\n        setLoginType(undefined);\n      }\n\n      // go to main screen\n      else {\n        props.goBack();\n      }\n    };\n    if (\"email\" in loginType) {\n      return /*#__PURE__*/jsx(EmbeddedWalletOTPLoginUI, {\n        ...props,\n        selectionData: loginType.email,\n        goBack: handleBack\n      });\n    }\n\n    // google\n    else {\n      return /*#__PURE__*/jsx(EmbeddedWalletGoogleLogin, {\n        ...props,\n        goBack: handleBack\n      });\n    }\n  }\n  return /*#__PURE__*/jsx(EmbeddedWalletFormUIScreen, {\n    modalSize: props.modalSize,\n    onSelect: _loginType => {\n      setLoginType(_loginType);\n    },\n    walletConfig: props.walletConfig,\n    onBack: props.goBack\n  });\n};\nfunction useLocalWalletInfo(localWalletConfig, persist) {\n  const [walletData, setWalletData] = useState(\"loading\");\n  const createWalletInstance = useCreateWalletInstance();\n  const [localWallet, setLocalWallet] = useState(null);\n  useEffect(() => {\n    const wallet = createWalletInstance(localWalletConfig);\n    setLocalWallet(wallet);\n    if (persist) {\n      wallet.getSavedData().then(data => {\n        setWalletData(data);\n      });\n    }\n  }, [createWalletInstance, localWalletConfig, persist]);\n  return {\n    setLocalWallet,\n    localWallet,\n    walletData,\n    meta: localWalletConfig.meta,\n    persist: persist\n  };\n}\nconst DragNDrop = props => {\n  const [error, setError] = useState(false);\n  const [uploaded, setUploaded] = useState();\n  const [isDragging, setIsDragging] = useState(false);\n  const dragIn = e => {\n    setError(false);\n    setUploaded(undefined);\n    setIsDragging(true);\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const dragOut = e => {\n    setIsDragging(false);\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleFileUpload = file => {\n    if (file.type !== props.accept) {\n      setError(true);\n    } else {\n      setUploaded(file);\n      props.onUpload(file);\n    }\n  };\n  const drop = e => {\n    setIsDragging(false);\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      const fileContent = e.dataTransfer.files[0];\n      if (fileContent) {\n        handleFileUpload(fileContent);\n        e.dataTransfer.clearData();\n      }\n    }\n  };\n  const message = isMobile() ? \"Click to Upload\" : \"Drop your file here or click to upload\";\n  return /*#__PURE__*/jsx(\"div\", {\n    onDragEnter: dragIn,\n    onDragLeave: dragOut,\n    onDragOver: e => {\n      setIsDragging(true);\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    onClick: () => {\n      setError(false);\n    },\n    onDrop: drop,\n    style: {\n      cursor: \"pointer\"\n    },\n    children: /*#__PURE__*/jsxs(\"label\", {\n      htmlFor: \"file-upload\",\n      children: [/*#__PURE__*/jsx(\"input\", {\n        id: \"file-upload\",\n        type: \"file\",\n        accept: props.accept,\n        multiple: false,\n        style: {\n          display: \"none\"\n        },\n        onChange: e => {\n          if (e.target.files && e.target.files[0]) {\n            handleFileUpload(e.target.files[0]);\n          }\n        }\n      }), /*#__PURE__*/jsx(DropContainer, {\n        \"data-error\": error,\n        \"data-is-dragging\": isDragging,\n        children: !uploaded ? /*#__PURE__*/jsxs(Fragment, {\n          children: [\" \", /*#__PURE__*/jsx(UploadIconSecondary, {\n            width: iconSize.lg,\n            height: iconSize.lg\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsxs(Text, {\n            color: \"primaryText\",\n            weight: 600,\n            center: true,\n            multiline: true,\n            children: [\" \", message]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"lg\"\n          }), error ? /*#__PURE__*/jsxs(Text, {\n            color: \"danger\",\n            size: \"sm\",\n            children: [\" \", \"Please upload a \", props.extension, \" file\", \" \"]\n          }) : /*#__PURE__*/jsxs(Text, {\n            size: \"sm\",\n            children: [\" \", props.extension, \" \"]\n          })]\n        }) : /*#__PURE__*/jsxs(Fragment, {\n          children: [/*#__PURE__*/jsxs(Text, {\n            weight: 600,\n            color: \"primaryText\",\n            center: true,\n            multiline: true,\n            children: [uploaded.name, \" uploaded successfully\"]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsx(Container, {\n            color: \"success\",\n            children: /*#__PURE__*/jsx(CheckCircleIcon, {\n              size: iconSize.xl\n            })\n          })]\n        })\n      })]\n    })\n  });\n};\nconst UploadIconSecondary = styled(UploadIcon)`\n  color: ${props => props.theme.colors.secondaryIconColor};\n  transition:\n    transform 200ms ease,\n    color 200ms ease;\n`;\nconst DropContainer = styled.div`\n  border: 2px solid ${p => p.theme.colors.borderColor};\n  border-radius: ${radius.md};\n  padding: ${spacing.xl} ${spacing.md};\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  cursor: pointer;\n  transition: border-color 200ms ease;\n\n  &:hover,\n  &[data-is-dragging=\"true\"] {\n    border-color: ${p => p.theme.colors.accentText};\n    svg {\n      color: ${p => p.theme.colors.accentText};\n    }\n  }\n\n  &[data-error=\"true\"] {\n    border-color: ${p => p.theme.colors.danger};\n  }\n`;\nconst CheckCircleIcon = props => /*#__PURE__*/jsxs(\"svg\", {\n  width: props.size,\n  height: props.size,\n  viewBox: \"0 0 38 38\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: [/*#__PURE__*/jsx(\"path\", {\n    d: \"M35.6666 17.4671V19.0004C35.6645 22.5945 34.5008 26.0916 32.3488 28.9701C30.1969 31.8487 27.1721 33.9546 23.7255 34.9736C20.279 35.9926 16.5954 35.8703 13.224 34.6247C9.85272 33.3792 6.97434 31.0773 5.01819 28.0622C3.06203 25.0472 2.1329 21.4805 2.36938 17.8943C2.60586 14.308 3.99526 10.8943 6.33039 8.16221C8.66551 5.43012 11.8212 3.52606 15.3269 2.734C18.8326 1.94194 22.5004 2.30432 25.7833 3.76709\",\n    stroke: \"currentColor\",\n    strokeWidth: \"3.33333\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/jsx(\"path\", {\n    d: \"M35.6667 5.66699L19 22.3503L14 17.3503\",\n    stroke: \"currentColor\",\n    strokeWidth: \"3.33333\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })]\n});\nconst ImportLocalWallet = props => {\n  const [jsonString, setJsonString] = useState();\n  const {\n    setLocalWallet,\n    meta\n  } = useLocalWalletInfo(props.localWalletConf, props.persist);\n  const createWalletInstance = useCreateWalletInstance();\n  const [password, setPassword] = useState(\"\");\n  const [isWrongPassword, setIsWrongPassword] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [importedAddress, setImportedAddress] = useState();\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const handleImport = async () => {\n    const localWallet = createWalletInstance(props.localWalletConf);\n    if (!localWallet || !jsonString) {\n      throw new Error(\"Invalid state\");\n    }\n    try {\n      await localWallet.import({\n        encryptedJson: jsonString,\n        password\n      });\n    } catch (e) {\n      console.error(e);\n      setIsWrongPassword(true);\n      return;\n    }\n    setConnectionStatus(\"connecting\");\n    await localWallet.connect();\n    await localWallet.save({\n      strategy: \"encryptedJson\",\n      password\n    });\n    setConnectedWallet(localWallet);\n    setLocalWallet(localWallet);\n    props.onConnect();\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.goBack,\n        title: \"Import Wallet\",\n        imgSrc: meta.iconURL\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      p: \"lg\",\n      children: [/*#__PURE__*/jsx(ModalDescription, {\n        sm: true,\n        children: \"The application can authorize any transactions on behalf of the wallet without any approvals.\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xs\"\n      }), /*#__PURE__*/jsx(ModalDescription, {\n        sm: true,\n        children: \"We recommend only connecting to trusted applications.\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsx(DragNDrop, {\n        extension: \"JSON\",\n        accept: \"application/json\",\n        onUpload: file => {\n          const reader = new FileReader();\n          reader.onload = event => {\n            setJsonString(event.target?.result);\n            const obj = JSON.parse(event.target?.result);\n            setImportedAddress(obj.address);\n          };\n          reader.readAsText(file, \"utf-8\");\n        }\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleImport();\n        },\n        children: [jsonString && /*#__PURE__*/jsxs(Fragment, {\n          children: [/*#__PURE__*/jsx(\"input\", {\n            type: \"text\",\n            name: \"username\",\n            autoComplete: \"off\",\n            value: importedAddress || \"\",\n            disabled: true,\n            style: {\n              display: \"none\"\n            }\n          }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n            required: true,\n            noSave: true,\n            name: \"password\",\n            autocomplete: \"off\",\n            id: \"password\",\n            onChange: value => {\n              setPassword(value);\n              setIsWrongPassword(false);\n            },\n            right: {\n              onClick: () => setShowPassword(!showPassword),\n              icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {})\n            },\n            label: \"Password\",\n            type: showPassword ? \"text\" : \"password\",\n            value: password,\n            error: isWrongPassword ? \"Wrong Password\" : \"\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          })]\n        }), /*#__PURE__*/jsx(Container, {\n          flex: \"row\",\n          style: {\n            justifyContent: \"flex-end\"\n          },\n          children: /*#__PURE__*/jsx(Button, {\n            variant: \"accent\",\n            type: \"submit\",\n            disabled: !jsonString,\n            style: {\n              minWidth: \"110px\",\n              opacity: jsonString ? 1 : 0.5\n            },\n            children: \"Import\"\n          })\n        })]\n      })]\n    })]\n  });\n};\nconst CreateLocalWallet_Password = props => {\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const passwordMismatch = confirmPassword && password !== confirmPassword;\n  const [isConnecting, setIsConnecting] = useState(false);\n  const {\n    localWallet\n  } = useLocalWalletInfo(props.localWalletConf, props.persist);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [showImportScreen, setShowImportScreen] = useState(false);\n  const [generatedAddress, setGeneratedAddress] = useState(null);\n\n  // generating wallet before it's required to render a form with hidden address as username for better autofill\n  useEffect(() => {\n    if (!localWallet || showImportScreen || localWallet.ethersWallet) {\n      return;\n    }\n    localWallet.generate().then(_address => {\n      setGeneratedAddress(_address);\n    });\n  }, [localWallet, showImportScreen]);\n  if (showImportScreen) {\n    return /*#__PURE__*/jsx(ImportLocalWallet, {\n      localWalletConf: props.localWalletConf,\n      onConnect: props.onConnect,\n      goBack: () => {\n        setShowImportScreen(false);\n      },\n      persist: props.persist\n    });\n  }\n  const handleConnect = async () => {\n    if (passwordMismatch || !localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    setIsConnecting(true);\n    setConnectionStatus(\"connecting\");\n    await localWallet.connect();\n    await localWallet.save({\n      strategy: \"encryptedJson\",\n      password\n    });\n    setConnectedWallet(localWallet);\n    setIsConnecting(false);\n    props.onConnect();\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.renderBackButton ? props.goBack : undefined,\n        title: props.localWalletConf.meta.name,\n        imgSrc: props.localWalletConf.meta.iconURL\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      p: \"lg\",\n      children: [/*#__PURE__*/jsxs(ModalDescription, {\n        sm: true,\n        children: [\"Choose a password for your wallet. \", /*#__PURE__*/jsx(\"br\", {}), \" You\", `'`, \"ll be able to access and export this wallet with the same password.\"]\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleConnect();\n        },\n        children: [/*#__PURE__*/jsx(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          autoComplete: \"off\",\n          value: generatedAddress || \"\",\n          disabled: true,\n          style: {\n            display: \"none\"\n          }\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          name: \"password\",\n          required: true,\n          autocomplete: \"new-password\",\n          id: \"new-password\",\n          onChange: value => setPassword(value),\n          right: {\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {}),\n            onClick: () => setShowPassword(!showPassword)\n          },\n          label: \"Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: password,\n          dataTest: \"new-password\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"lg\"\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          name: \"confirm-password\",\n          required: true,\n          autocomplete: \"new-password\",\n          id: \"confirm-password\",\n          onChange: value => setConfirmPassword(value),\n          right: {\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {}),\n            onClick: () => setShowPassword(!showPassword)\n          },\n          label: \"Confirm Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: confirmPassword,\n          error: passwordMismatch ? \"Passwords don't match\" : \"\",\n          dataTest: \"confirm-password\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"lg\"\n        }), /*#__PURE__*/jsxs(Button, {\n          variant: \"accent\",\n          type: \"submit\",\n          fullWidth: true,\n          style: {\n            gap: spacing.xs,\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          \"data-test\": \"create-new-wallet-button\",\n          children: [!isConnecting && /*#__PURE__*/jsx(PlusIcon, {\n            width: iconSize.sm,\n            height: iconSize.sm\n          }), isConnecting ? \"Connecting\" : \"Create new wallet\", isConnecting && /*#__PURE__*/jsx(Spinner, {\n            size: \"sm\",\n            color: \"accentButtonText\"\n          })]\n        })]\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsx(TextDivider, {\n        children: /*#__PURE__*/jsx(\"span\", {\n          children: \"OR\"\n        })\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsxs(Button, {\n        fullWidth: true,\n        variant: \"outline\",\n        onClick: () => {\n          setShowImportScreen(true);\n        },\n        style: {\n          display: \"flex\",\n          gap: spacing.sm,\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/jsx(PinBottomIcon, {\n          width: iconSize.sm,\n          height: iconSize.sm\n        }), \"Import wallet\"]\n      })]\n    })]\n  });\n};\nconst CreateLocalWallet_Guest = props => {\n  const {\n    localWallet\n  } = useLocalWalletInfo(props.localWallet, props.persist);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const {\n    onConnect\n  } = props;\n  const handleConnect = useCallback(async () => {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    await localWallet.generate();\n    setConnectionStatus(\"connecting\");\n    await wait(1000);\n    await localWallet.connect();\n    setConnectedWallet(localWallet);\n    onConnect();\n  }, [localWallet, setConnectedWallet, onConnect, setConnectionStatus]);\n  const connecting = useRef(false);\n  useEffect(() => {\n    if (connecting.current || !localWallet) {\n      return;\n    }\n    connecting.current = true;\n    handleConnect();\n  }, [handleConnect, localWallet]);\n  return /*#__PURE__*/jsx(Container, {\n    flex: \"row\",\n    center: \"both\",\n    fullHeight: true,\n    style: {\n      minHeight: \"300px\"\n    },\n    children: /*#__PURE__*/jsx(Spinner, {\n      size: \"xl\",\n      color: \"accentText\"\n    })\n  });\n};\nconst OverrideConfirmation = props => {\n  return /*#__PURE__*/jsxs(Container, {\n    p: \"lg\",\n    children: [/*#__PURE__*/jsx(ModalHeader, {\n      onBack: props.onBack,\n      title: \"Warning\"\n    }), /*#__PURE__*/jsx(Spacer, {\n      y: \"xl\"\n    }), /*#__PURE__*/jsxs(Container, {\n      children: [/*#__PURE__*/jsx(Text, {\n        multiline: true,\n        children: \"Your current wallet will be deleted if you create a new wallet. Backup wallet to your device before creating a new wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(Container, {\n        flex: \"row\",\n        style: {\n          justifyContent: \"flex-end\"\n        },\n        children: /*#__PURE__*/jsx(Button, {\n          variant: \"accent\",\n          fullWidth: true,\n          onClick: props.onBackup,\n          children: \"Backup wallet\"\n        })\n      })]\n    })]\n  });\n};\n\n/**\n * For No-Credential scenario\n */\nconst ReconnectLocalWallet = props => {\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [isWrongPassword, setIsWrongPassword] = useState(false);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [showCreate, setShowCreate] = useState(false);\n  const [showBackupConfirmation, setShowBackupConfirmation] = useState(false);\n  const [showExport, setShowExport] = useState(false);\n  const {\n    localWallet,\n    meta,\n    walletData\n  } = useLocalWalletInfo(props.localWallet, props.persist);\n  const savedAddress = walletData ? walletData === \"loading\" ? \"\" : walletData.address : \"\";\n  if (showExport) {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    return /*#__PURE__*/jsx(ExportLocalWallet, {\n      modalSize: props.modalSize,\n      localWalletConfig: props.localWallet,\n      onBack: () => {\n        setShowExport(false);\n      },\n      onExport: () => {\n        setShowExport(false);\n        setShowBackupConfirmation(false);\n        setShowCreate(true);\n      }\n    });\n  }\n  if (showBackupConfirmation) {\n    return /*#__PURE__*/jsx(OverrideConfirmation, {\n      meta: meta,\n      onBackup: () => {\n        setShowExport(true);\n      },\n      onBack: () => {\n        setShowBackupConfirmation(false);\n      }\n    });\n  }\n  if (showCreate) {\n    return /*#__PURE__*/jsx(CreateLocalWallet_Password, {\n      renderBackButton: props.supportedWallets.length > 1,\n      localWalletConf: props.localWallet,\n      goBack: () => {\n        setShowCreate(false);\n      },\n      onConnect: props.onConnect,\n      persist: props.persist\n    });\n  }\n  const handleReconnect = async () => {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    setIsConnecting(true);\n    try {\n      await localWallet.load({\n        strategy: \"encryptedJson\",\n        password\n      });\n      setConnectionStatus(\"connecting\");\n      await localWallet.connect();\n      setConnectedWallet(localWallet);\n      props.onConnect();\n    } catch (e) {\n      setIsWrongPassword(true);\n    }\n    setIsConnecting(false);\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.renderBackButton ? props.goBack : undefined,\n        title: meta.name,\n        imgSrc: meta.iconURL\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      p: \"lg\",\n      children: [/*#__PURE__*/jsx(Text, {\n        multiline: true,\n        size: \"lg\",\n        color: \"primaryText\",\n        children: \"Connect to saved wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(Label, {\n        children: \"Saved Wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"sm\"\n      }), /*#__PURE__*/jsx(Text, {\n        children: savedAddress === \"\" ? \"Loading...\" : shortenAddress(savedAddress)\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleReconnect();\n        },\n        children: [/*#__PURE__*/jsx(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          autoComplete: \"off\",\n          value: savedAddress,\n          disabled: true,\n          style: {\n            display: \"none\"\n          }\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          required: true,\n          name: \"current-password\",\n          autocomplete: \"current-password\",\n          id: \"current-password\",\n          onChange: value => {\n            setPassword(value);\n            setIsWrongPassword(false);\n          },\n          right: {\n            onClick: () => setShowPassword(!showPassword),\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {})\n          },\n          label: \"Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: password,\n          error: isWrongPassword ? \"Wrong Password\" : \"\",\n          dataTest: \"current-password\",\n          placeholder: \"Enter your password\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"md\"\n        }), /*#__PURE__*/jsxs(Button, {\n          variant: \"accent\",\n          type: \"submit\",\n          fullWidth: true,\n          style: {\n            display: \"flex\",\n            gap: spacing.sm\n          },\n          children: [\"Continue\", isConnecting && /*#__PURE__*/jsx(Spinner, {\n            size: \"sm\",\n            color: \"accentButtonText\"\n          })]\n        })]\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(TextDivider, {\n        children: /*#__PURE__*/jsx(\"span\", {\n          children: \" OR \"\n        })\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(Button, {\n        variant: \"outline\",\n        fullWidth: true,\n        style: {\n          textAlign: \"center\"\n        },\n        onClick: () => {\n          setShowBackupConfirmation(true);\n        },\n        children: \"Create a new wallet\"\n      })]\n    })]\n  });\n};\nconst LocalWalletConnectUI = props => {\n  const {\n    walletData\n  } = useLocalWalletInfo(props.walletConfig, props.persist);\n  if (!props.persist) {\n    return /*#__PURE__*/jsx(CreateLocalWallet_Guest, {\n      persist: props.persist,\n      localWallet: props.walletConfig,\n      goBack: props.goBack,\n      onConnect: props.close\n    });\n  }\n  if (walletData === \"loading\") {\n    return /*#__PURE__*/jsx(Container, {\n      flex: \"row\",\n      center: \"both\",\n      style: {\n        height: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Spinner, {\n        size: \"lg\",\n        color: \"accentText\"\n      })\n    });\n  }\n  if (walletData) {\n    return /*#__PURE__*/jsx(ReconnectLocalWallet, {\n      modalSize: props.modalSize,\n      renderBackButton: props.supportedWallets.length > 1,\n      supportedWallets: props.supportedWallets,\n      onConnect: props.close,\n      goBack: props.goBack,\n      localWallet: props.walletConfig,\n      persist: props.persist\n    });\n  }\n  return /*#__PURE__*/jsx(CreateLocalWallet_Password, {\n    goBack: props.goBack,\n    localWalletConf: props.walletConfig,\n    onConnect: props.close,\n    renderBackButton: props.supportedWallets.length > 1,\n    persist: props.persist\n  });\n};\nconst localWallet = config => {\n  return {\n    id: LocalWallet.id,\n    meta: {\n      ...LocalWallet.meta,\n      name: \"Guest Wallet\",\n      iconURL: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xXzY0KSIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMV82NCkiPgo8cGF0aCBkPSJNNTguNzUgMTkuMTY2N0gyMS4yNUMxOC45NTgzIDE5LjE2NjcgMTcuMDgzMyAyMS4wNDE3IDE3LjA4MzMgMjMuMzMzNFY0OC4zMzM0QzE3LjA4MzMgNTAuNjI1IDE4Ljk1ODMgNTIuNSAyMS4yNSA1Mi41SDM1LjgzMzNMMzEuNjY2NyA1OC43NVY2MC44MzM0SDQ4LjMzMzNWNTguNzVMNDQuMTY2NyA1Mi41SDU4Ljc1QzYxLjA0MTcgNTIuNSA2Mi45MTY3IDUwLjYyNSA2Mi45MTY3IDQ4LjMzMzRWMjMuMzMzNEM2Mi45MTY3IDIxLjA0MTcgNjEuMDQxNyAxOS4xNjY3IDU4Ljc1IDE5LjE2NjdaTTU4Ljc1IDQ0LjE2NjdIMjEuMjVWMjMuMzMzNEg1OC43NVY0NC4xNjY3WiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzFfNjQiIHgxPSI0MCIgeTE9IjAiIHgyPSI0MCIgeTI9IjgwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNDRTExQUIiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjOTAwQkI1Ii8+CjwvbGluZWFyR3JhZGllbnQ+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMV82NCI+CjxyZWN0IHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1IDE1KSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=\"\n    },\n    create: options => new LocalWallet(options),\n    connectUI(props) {\n      return /*#__PURE__*/jsx(LocalWalletConnectUI, {\n        ...props,\n        persist: config && config.persist !== undefined ? config.persist : true\n      });\n    }\n  };\n};\nconst SmartWalletConnecting = props => {\n  const activeWallet = useWallet(); // personal wallet\n\n  const connect = useConnect();\n  const connectedChain = useChain();\n  const targetChain = useWalletContext().activeChain;\n  const mismatch = useNetworkMismatch();\n  const [connectError, setConnectError] = useState(false);\n  const [switchError, setSwitchError] = useState(false);\n  const [switchingNetwork, setSwitchingNetwork] = useState(false);\n  const connectionStatus = useConnectionStatus();\n  const {\n    onConnect\n  } = props;\n  const connectStarted = useRef(false);\n  const switchChain = useSwitchChain();\n  const modalSize = useContext(ModalConfigCtx).modalSize;\n  const handleConnect = useCallback(async () => {\n    if (!activeWallet || !connectedChain || connectStarted.current) {\n      return;\n    }\n    setConnectError(false);\n    try {\n      connectStarted.current = true;\n      await connect(props.smartWallet, {\n        personalWallet: activeWallet\n      });\n      onConnect();\n    } catch (e) {\n      console.error(e);\n      setConnectError(true);\n    }\n  }, [activeWallet, connectedChain, connect, props.smartWallet, onConnect]);\n  useEffect(() => {\n    if (!mismatch) {\n      handleConnect();\n    }\n  }, [mismatch, handleConnect, activeWallet, connectedChain]);\n  if (!connectError && (connectionStatus === \"connecting\" || !mismatch)) {\n    return /*#__PURE__*/jsx(Container, {\n      fullHeight: true,\n      flex: \"column\",\n      center: \"both\",\n      style: {\n        minHeight: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Spinner, {\n        color: \"accentText\",\n        size: \"xl\"\n      })\n    });\n  }\n  if (connectError) {\n    return /*#__PURE__*/jsx(Container, {\n      fullHeight: true,\n      animate: \"fadein\",\n      flex: \"column\",\n      center: \"both\",\n      p: \"lg\",\n      style: {\n        minHeight: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Text, {\n        color: \"danger\",\n        children: \"Failed to connect to Smart Wallet\"\n      })\n    });\n  }\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    animate: \"fadein\",\n    flex: \"column\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        title: props.personalWallet.meta.name,\n        imgSrc: props.personalWallet.meta.iconURL,\n        onBack: props.onBack\n      })\n    }), modalSize === \"compact\" && /*#__PURE__*/jsx(Spacer, {\n      y: \"lg\"\n    }), /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"both\",\n      p: \"lg\",\n      children: /*#__PURE__*/jsxs(Container, {\n        p: modalSize === \"wide\" ? \"lg\" : undefined,\n        children: [/*#__PURE__*/jsx(Container, {\n          flex: \"row\",\n          center: \"x\",\n          color: \"danger\",\n          children: /*#__PURE__*/jsx(ExclamationTriangleIcon, {\n            width: iconSize.lg,\n            height: iconSize.lg\n          })\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"md\"\n        }), /*#__PURE__*/jsx(Text, {\n          size: \"lg\",\n          color: \"primaryText\",\n          center: true,\n          weight: 500,\n          children: \"Wrong Network\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"lg\"\n        }), /*#__PURE__*/jsx(Text, {\n          multiline: true,\n          center: true,\n          children: \"Your wallet is not connected to the required network\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xl\"\n        }), /*#__PURE__*/jsxs(Container, {\n          flex: \"column\",\n          gap: \"md\",\n          children: [/*#__PURE__*/jsxs(Button, {\n            type: \"button\",\n            fullWidth: true,\n            variant: \"accent\",\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: spacing.sm\n            },\n            onClick: async () => {\n              if (!activeWallet) {\n                throw new Error(\"No active wallet\");\n              }\n              setConnectError(false);\n              setSwitchError(false);\n              setSwitchingNetwork(true);\n              try {\n                await switchChain(targetChain.chainId);\n              } catch (e) {\n                setSwitchError(true);\n              } finally {\n                setSwitchingNetwork(false);\n              }\n            },\n            children: [\" \", switchingNetwork ? \"Switching\" : \"Switch Network\", switchingNetwork && /*#__PURE__*/jsx(Spinner, {\n              size: \"sm\",\n              color: \"accentButtonText\"\n            })]\n          }), /*#__PURE__*/jsxs(Container, {\n            flex: \"row\",\n            gap: \"sm\",\n            center: \"both\",\n            color: \"danger\",\n            style: {\n              textAlign: \"center\",\n              fontSize: fontSize.sm,\n              opacity: switchError ? 1 : 0,\n              transition: \"opacity 200ms ease\"\n            },\n            children: [/*#__PURE__*/jsx(ExclamationTriangleIcon, {\n              width: iconSize.sm,\n              height: iconSize.sm\n            }), /*#__PURE__*/jsx(\"span\", {\n              children: \"Failed to switch network\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n};\nconst smartWallet = (wallet, config) => {\n  const WalletSelectUI = wallet.selectUI;\n  return {\n    ...wallet,\n    create: options => new SmartWallet({\n      ...options,\n      ...config\n    }),\n    connectUI(props) {\n      return /*#__PURE__*/jsx(SmartConnectUI, {\n        ...props,\n        personalWallet: wallet\n      });\n    },\n    selectUI: WalletSelectUI ? props => {\n      return /*#__PURE__*/jsx(WalletSelectUI, {\n        ...props,\n        walletConfig: wallet\n      });\n    } : undefined,\n    personalWallets: [wallet]\n  };\n};\nconst SmartConnectUI = props => {\n  const activeWallet = useWallet();\n  const {\n    walletConfig\n  } = props;\n  const PersonalWalletConfig = props.personalWallet;\n  if (!activeWallet) {\n    const _props = {\n      ...props,\n      walletConfig: PersonalWalletConfig,\n      close: () => props.close(false)\n    };\n    if (PersonalWalletConfig.connectUI) {\n      return /*#__PURE__*/jsx(PersonalWalletConfig.connectUI, {\n        ..._props\n      });\n    }\n    return /*#__PURE__*/jsx(HeadlessConnectUI, {\n      ..._props\n    });\n  }\n  return /*#__PURE__*/jsx(SmartWalletConnecting, {\n    onBack: props.goBack,\n    onConnect: props.close,\n    smartWallet: walletConfig,\n    personalWallet: props.personalWallet\n  });\n};\nvar smartWallet$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  smartWallet: smartWallet,\n  SmartConnectUI: SmartConnectUI\n});\nexport { embeddedWallet, localWallet, smartWallet, useSmartWallet };","map":{"version":3,"names":["u","useScreenContext","E","ExportLocalWallet","s","shortenAddress","a","ConnectModalInline","C","ConnectWallet","M","MediaRenderer","N","NetworkSelector","o","ThirdwebNftMedia","T","ThirdwebProvider","W","Web3Button","d","defaultTokens","i","useBloctoWallet","g","useCoinbaseWallet","h","useFrameWallet","b","useInstalledWallets","f","useMetamask","k","usePaperWallet","j","usePaperWalletUserEmail","c","useRainbowWallet","n","useResolvedMediaType","e","useTrustWallet","l","useWalletConnect","m","useWalletConnectV1","F","FormFieldWithIconButton","w","wait","H","HeadlessConnectUI","coinbaseWallet","defaultWallets","metamaskWallet","p","phantomWallet","r","rainbowWallet","t","trustWallet","walletConnect","z","zerionWallet","useConnect","useCreateWalletInstance","useSetConnectionStatus","useSetConnectedWallet","useConnectionStatus","useWalletContext","useWallet","useChain","useNetworkMismatch","useSwitchChain","useCallback","useEffect","useState","useRef","useContext","bloctoWallet","EmbeddedWallet","LocalWallet","SmartWallet","BloctoWallet","CoinbaseWallet","FrameWallet","InjectedWallet","MagicLink","MetaMaskWallet","PaperWallet","PhantomWallet","RainbowWallet","SafeWallet","SignerWallet","TrustWallet","WalletConnect","ZerionWallet","B","Button","spacing","iconSize","S","Spacer","TextDivider","Container","ModalHeader","ModalTitle","Text","Spinner","fontSize","L","Line","reservedScreens","WalletEntryButton","radius","isMobile","ModalDescription","Label","ModalConfigCtx","darkTheme","lightTheme","useIsWalletModalOpen","useSetIsWalletModalOpen","emailIcon","styled","G","GoogleIcon","openGoogleSignInWindow","O","OTPInput","FadeIn","paperWallet","I","InputSelectionUI","jsxs","jsx","Fragment","frameWallet","UploadIcon","EyeClosedIcon","EyeOpenIcon","PlusIcon","PinBottomIcon","ExclamationTriangleIcon","magicLink","safeWallet","walletConnectV1","useSafe","useMagic","useSmartWallet","connect","wallet","options","smartWallet","Promise","resolve","then","smartWallet$1","EmbeddedWalletFormUI","props","createWalletInstance","setConnectionStatus","setConnectedWallet","googleLogin","embeddedWallet","walletConfig","googleWindow","Error","loginType","openedWindow","closeOpenedWindow","close","console","error","children","SocialButton","variant","fullWidth","onClick","onSelect","google","size","md","y","email","placeholder","name","type","errorMessage","_input","input","replace","emailRegex","isValidEmail","test","emptyErrorMessage","showOrSeparator","EmbeddedWalletFormUIScreen","isCompact","modalSize","fullHeight","flex","animate","style","minHeight","onBack","title","expand","center","undefined","sm","EmbeddedWalletGoogleLogin","goBack","connectionStatus","closeModal","paddingBottom","gap","textAlign","color","multiline","maxWidth","EmbeddedWalletOTPLoginUI","selectionData","otpInput","setOtpInput","setWallet","isWideModal","verifyStatus","setVerifyStatus","sendEmailOtpStatus","setSendEmailOtpStatus","sendEmail","_wallet","_embeddedWalletSdk","getEmbeddedWalletSDK","auth","sendEmailLoginOtp","handleSubmit","otp","length","verifyCodes","emailSentOnMount","current","onSubmit","preventDefault","isInvalid","digits","value","setValue","onEnter","px","width","LinkButton","button","theme","colors","accentText","primaryText","config","category","id","recommended","meta","iconURL","create","clientId","selectUI","EmbeddedWalletSelectionUI","connectUI","EmbeddedWalletConnectUI","screen","main","selectWallet","supportedWallets","setLoginType","handleBack","_loginType","useLocalWalletInfo","localWalletConfig","persist","walletData","setWalletData","localWallet","setLocalWallet","getSavedData","data","DragNDrop","setError","uploaded","setUploaded","isDragging","setIsDragging","dragIn","stopPropagation","dragOut","handleFileUpload","file","accept","onUpload","drop","dataTransfer","files","fileContent","clearData","message","onDragEnter","onDragLeave","onDragOver","onDrop","cursor","htmlFor","multiple","display","onChange","target","DropContainer","UploadIconSecondary","lg","height","weight","extension","CheckCircleIcon","xl","secondaryIconColor","div","borderColor","danger","viewBox","fill","xmlns","stroke","strokeWidth","strokeLinecap","strokeLinejoin","ImportLocalWallet","jsonString","setJsonString","localWalletConf","password","setPassword","isWrongPassword","setIsWrongPassword","showPassword","setShowPassword","importedAddress","setImportedAddress","handleImport","import","encryptedJson","save","strategy","onConnect","imgSrc","reader","FileReader","onload","event","result","obj","JSON","parse","address","readAsText","autoComplete","disabled","required","noSave","autocomplete","right","icon","label","justifyContent","minWidth","opacity","CreateLocalWallet_Password","confirmPassword","setConfirmPassword","passwordMismatch","isConnecting","setIsConnecting","showImportScreen","setShowImportScreen","generatedAddress","setGeneratedAddress","ethersWallet","generate","_address","handleConnect","renderBackButton","dataTest","xs","alignItems","CreateLocalWallet_Guest","connecting","OverrideConfirmation","onBackup","ReconnectLocalWallet","showCreate","setShowCreate","showBackupConfirmation","setShowBackupConfirmation","showExport","setShowExport","savedAddress","onExport","handleReconnect","load","LocalWalletConnectUI","SmartWalletConnecting","activeWallet","connectedChain","targetChain","activeChain","mismatch","connectError","setConnectError","switchError","setSwitchError","switchingNetwork","setSwitchingNetwork","connectStarted","switchChain","personalWallet","chainId","transition","WalletSelectUI","SmartConnectUI","personalWallets","PersonalWalletConfig","_props","Object","freeze","__proto__"],"sources":["C:/Misc/Documents/Career/FinTech/BlockChain/FrontEnd/buildspace-dao-starter/node_modules/@thirdweb-dev/react/dist/thirdweb-dev-react.browser.esm.js"],"sourcesContent":["import { u as useScreenContext, E as ExportLocalWallet, s as shortenAddress } from './useWalletConnect-8a1a7bf9.browser.esm.js';\nexport { a as ConnectModalInline, C as ConnectWallet, M as MediaRenderer, N as NetworkSelector, o as ThirdwebNftMedia, T as ThirdwebProvider, W as Web3Button, d as defaultTokens, i as useBloctoWallet, g as useCoinbaseWallet, h as useFrameWallet, b as useInstalledWallets, f as useMetamask, k as usePaperWallet, j as usePaperWalletUserEmail, c as useRainbowWallet, n as useResolvedMediaType, e as useTrustWallet, l as useWalletConnect, m as useWalletConnectV1 } from './useWalletConnect-8a1a7bf9.browser.esm.js';\nimport { F as FormFieldWithIconButton, w as wait, H as HeadlessConnectUI } from './formFields-aa9e8c3f.browser.esm.js';\nexport { c as coinbaseWallet, d as defaultWallets, m as metamaskWallet, p as phantomWallet, r as rainbowWallet, t as trustWallet, a as walletConnect, z as zerionWallet } from './formFields-aa9e8c3f.browser.esm.js';\nimport { useConnect, useCreateWalletInstance, useSetConnectionStatus, useSetConnectedWallet, useConnectionStatus, useWalletContext, useWallet, useChain, useNetworkMismatch, useSwitchChain } from '@thirdweb-dev/react-core';\nexport * from '@thirdweb-dev/react-core';\nimport { useCallback, useEffect, useState, useRef, useContext } from 'react';\nexport { bloctoWallet } from './bloctoWallet-41e93ea8.browser.esm.js';\nimport { EmbeddedWallet, LocalWallet, SmartWallet } from '@thirdweb-dev/wallets';\nexport { BloctoWallet, CoinbaseWallet, EmbeddedWallet, FrameWallet, InjectedWallet, LocalWallet, MagicLink, MetaMaskWallet, PaperWallet, PhantomWallet, RainbowWallet, SafeWallet, SignerWallet, SmartWallet, TrustWallet, WalletConnect, ZerionWallet } from '@thirdweb-dev/wallets';\nimport { B as Button, s as spacing, i as iconSize, S as Spacer, T as TextDivider, C as Container, M as ModalHeader, a as ModalTitle, b as Text, c as Spinner, f as fontSize, L as Line, r as reservedScreens, W as WalletEntryButton, d as radius, e as isMobile, g as ModalDescription, h as Label, j as ModalConfigCtx } from './formElements-49d2196e.browser.esm.js';\nexport { k as darkTheme, l as lightTheme, u as useIsWalletModalOpen, m as useSetIsWalletModalOpen } from './formElements-49d2196e.browser.esm.js';\nimport { e as emailIcon } from './Tooltip-c0cbeb52.browser.esm.js';\nimport styled from '@emotion/styled';\nimport { G as GoogleIcon, o as openGoogleSignInWindow, O as OTPInput, F as FadeIn } from './paperWallet-968c4544.browser.esm.js';\nexport { p as paperWallet } from './paperWallet-968c4544.browser.esm.js';\nimport { I as InputSelectionUI } from './InputSelectionUI-6fc61f90.browser.esm.js';\nimport { jsxs, jsx, Fragment } from 'react/jsx-runtime';\nexport { frameWallet } from './frameWallet-58773886.browser.esm.js';\nimport { UploadIcon, EyeClosedIcon, EyeOpenIcon, PlusIcon, PinBottomIcon, ExclamationTriangleIcon } from '@radix-ui/react-icons';\nexport { magicLink } from './magicLink-a4683714.browser.esm.js';\nexport { safeWallet } from './safeWallet-1c3642a3.browser.esm.js';\nexport { walletConnectV1 } from './walletConnectV1-0f88eb7f.browser.esm.js';\nexport { u as useSafe } from './useSafe-17873824.browser.esm.js';\nexport { u as useMagic } from './useMagic-1082ce04.browser.esm.js';\nimport '@tanstack/react-query';\nimport '@emotion/react';\nimport '@radix-ui/react-popover';\nimport 'copy-to-clipboard';\nimport 'ethers';\nimport '@radix-ui/react-tabs';\nimport 'fuse.js';\nimport '@radix-ui/react-dropdown-menu';\nimport '@thirdweb-dev/chains';\nimport '@thirdweb-dev/sdk';\nimport 'tiny-invariant';\nimport '@radix-ui/react-dialog';\nimport 'qrcode';\nimport 'detect-browser';\nimport '@radix-ui/colors';\nimport '@radix-ui/react-tooltip';\n\nfunction useSmartWallet() {\n  const connect = useConnect();\n  return useCallback(async (wallet, options) => {\n    const {\n      smartWallet\n    } = await Promise.resolve().then(function () { return smartWallet$1; });\n    return connect(smartWallet(wallet, options), options);\n  }, [connect]);\n}\n\nconst EmbeddedWalletFormUI = props => {\n  const createWalletInstance = useCreateWalletInstance();\n  const setConnectionStatus = useSetConnectionStatus();\n  const setConnectedWallet = useSetConnectedWallet();\n\n  // Need to trigger google login on button click to avoid popup from being blocked\n  const googleLogin = async () => {\n    try {\n      const embeddedWallet = createWalletInstance(props.walletConfig);\n      setConnectionStatus(\"connecting\");\n      const googleWindow = openGoogleSignInWindow();\n      if (!googleWindow) {\n        throw new Error(\"Failed to open google login window\");\n      }\n      await embeddedWallet.connect({\n        loginType: \"headless_google_oauth\",\n        openedWindow: googleWindow,\n        closeOpenedWindow: openedWindow => {\n          openedWindow.close();\n        }\n      });\n      setConnectedWallet(embeddedWallet);\n    } catch (e) {\n      setConnectionStatus(\"disconnected\");\n      console.error(e);\n    }\n  };\n  return /*#__PURE__*/jsxs(\"div\", {\n    children: [/*#__PURE__*/jsxs(SocialButton, {\n      variant: \"secondary\",\n      fullWidth: true,\n      onClick: () => {\n        googleLogin();\n        props.onSelect({\n          google: true\n        });\n      },\n      children: [/*#__PURE__*/jsx(GoogleIcon, {\n        size: iconSize.md\n      }), \"Sign in with Google\"]\n    }), /*#__PURE__*/jsx(Spacer, {\n      y: \"lg\"\n    }), /*#__PURE__*/jsx(TextDivider, {\n      children: /*#__PURE__*/jsx(\"span\", {\n        children: \"OR\"\n      })\n    }), /*#__PURE__*/jsx(Spacer, {\n      y: \"lg\"\n    }), /*#__PURE__*/jsx(InputSelectionUI, {\n      onSelect: email => props.onSelect({\n        email\n      }),\n      placeholder: \"Enter your email address\",\n      name: \"email\",\n      type: \"email\",\n      errorMessage: _input => {\n        const input = _input.replace(/\\+/g, \"\");\n        const emailRegex = /^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,})$/g;\n        const isValidEmail = emailRegex.test(input);\n        if (!isValidEmail) {\n          return \"Invalid email address\";\n        }\n      },\n      emptyErrorMessage: \"email address is required\",\n      showOrSeparator: props.showOrSeparator\n    })]\n  });\n};\nconst EmbeddedWalletFormUIScreen = props => {\n  const isCompact = props.modalSize === \"compact\";\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    p: \"lg\",\n    animate: \"fadein\",\n    style: {\n      minHeight: \"250px\"\n    },\n    children: [/*#__PURE__*/jsx(ModalHeader, {\n      onBack: props.onBack,\n      title: \"Sign in\"\n    }), isCompact ? /*#__PURE__*/jsx(Spacer, {\n      y: \"xl\"\n    }) : null, /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"y\",\n      p: isCompact ? undefined : \"lg\",\n      children: /*#__PURE__*/jsx(EmbeddedWalletFormUI, {\n        walletConfig: props.walletConfig,\n        onSelect: props.onSelect,\n        showOrSeparator: false\n      })\n    })]\n  });\n};\nconst SocialButton = styled(Button)`\n  display: flex;\n  justify-content: center;\n  gap: ${spacing.sm};\n`;\n\nconst EmbeddedWalletGoogleLogin = props => {\n  const {\n    goBack,\n    modalSize\n  } = props;\n  const createWalletInstance = useCreateWalletInstance();\n  const setConnectionStatus = useSetConnectionStatus();\n  const setConnectedWallet = useSetConnectedWallet();\n  const connectionStatus = useConnectionStatus();\n  const googleLogin = async () => {\n    try {\n      const embeddedWallet = createWalletInstance(props.walletConfig);\n      setConnectionStatus(\"connecting\");\n      const googleWindow = openGoogleSignInWindow();\n      if (!googleWindow) {\n        throw new Error(\"Failed to open google login window\");\n      }\n      await embeddedWallet.connect({\n        loginType: \"headless_google_oauth\",\n        openedWindow: googleWindow,\n        closeOpenedWindow: openedWindow => {\n          openedWindow.close();\n        }\n      });\n      setConnectedWallet(embeddedWallet);\n      props.close();\n    } catch (e) {\n      setConnectionStatus(\"disconnected\");\n      console.error(\"Error logging into google\", e);\n    }\n  };\n  const closeModal = props.close;\n  useEffect(() => {\n    if (connectionStatus === \"connected\") {\n      closeModal();\n    }\n  }, [connectionStatus, closeModal]);\n  return /*#__PURE__*/jsx(Container, {\n    animate: \"fadein\",\n    flex: \"column\",\n    fullHeight: true,\n    children: /*#__PURE__*/jsxs(Container, {\n      flex: \"column\",\n      expand: true,\n      p: \"lg\",\n      style: {\n        paddingBottom: 0\n      },\n      children: [/*#__PURE__*/jsx(ModalHeader, {\n        title: /*#__PURE__*/jsxs(Container, {\n          flex: \"row\",\n          center: \"both\",\n          gap: \"xs\",\n          children: [/*#__PURE__*/jsx(GoogleIcon, {\n            size: iconSize.md\n          }), /*#__PURE__*/jsx(ModalTitle, {\n            children: \" Sign in \"\n          })]\n        }),\n        onBack: goBack\n      }), modalSize === \"compact\" ? /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }) : null, /*#__PURE__*/jsxs(Container, {\n        flex: \"column\",\n        center: \"both\",\n        expand: true,\n        style: {\n          textAlign: \"center\",\n          minHeight: \"250px\"\n        },\n        children: [connectionStatus === \"connecting\" && /*#__PURE__*/jsxs(Container, {\n          animate: \"fadein\",\n          children: [/*#__PURE__*/jsx(Text, {\n            color: \"primaryText\",\n            multiline: true,\n            style: {\n              maxWidth: \"250px\"\n            },\n            children: \"Select your Google account in the pop-up\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          }), /*#__PURE__*/jsx(Container, {\n            center: \"x\",\n            flex: \"row\",\n            children: /*#__PURE__*/jsx(Spinner, {\n              size: \"lg\",\n              color: \"accentText\"\n            })\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xxl\"\n          })]\n        }), connectionStatus === \"disconnected\" && /*#__PURE__*/jsxs(Container, {\n          animate: \"fadein\",\n          children: [/*#__PURE__*/jsx(Text, {\n            color: \"danger\",\n            children: \"Failed to sign in\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"lg\"\n          }), /*#__PURE__*/jsxs(Button, {\n            variant: \"primary\",\n            onClick: googleLogin,\n            children: [\" \", \"Retry\", \" \"]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xxl\"\n          })]\n        })]\n      })]\n    })\n  });\n};\n\nconst EmbeddedWalletOTPLoginUI = props => {\n  const email = props.selectionData;\n  const [otpInput, setOtpInput] = useState(\"\");\n  const {\n    createWalletInstance,\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [wallet, setWallet] = useState(null);\n  const isWideModal = props.modalSize === \"wide\";\n  const [verifyStatus, setVerifyStatus] = useState(\"idle\");\n  const [sendEmailOtpStatus, setSendEmailOtpStatus] = useState(\"sending\");\n  const sendEmail = useCallback(async () => {\n    setOtpInput(\"\");\n    setVerifyStatus(\"idle\");\n    setSendEmailOtpStatus(\"sending\");\n    try {\n      const _wallet = createWalletInstance(props.walletConfig);\n      setWallet(_wallet);\n      const _embeddedWalletSdk = await _wallet.getEmbeddedWalletSDK();\n      await _embeddedWalletSdk.auth.sendEmailLoginOtp({\n        email: email\n      });\n      setSendEmailOtpStatus(\"sent\");\n    } catch (e) {\n      console.error(e);\n      setVerifyStatus(\"idle\");\n      setSendEmailOtpStatus(\"error\");\n    }\n  }, [createWalletInstance, email, props.walletConfig]);\n  const handleSubmit = otp => {\n    if (sendEmailOtpStatus !== \"sent\" || otp.length !== 6) {\n      return;\n    }\n    verifyCodes(otp);\n  };\n  const verifyCodes = async otp => {\n    setVerifyStatus(\"idle\");\n    if (!wallet) {\n      return;\n    }\n    try {\n      setVerifyStatus(\"verifying\");\n      setConnectionStatus(\"connecting\");\n      await wallet.connect({\n        loginType: \"headless_email_otp_verification\",\n        email,\n        otp\n      });\n      setConnectedWallet(wallet);\n      setVerifyStatus(\"valid\");\n      props.close();\n    } catch (e) {\n      setVerifyStatus(\"invalid\");\n      console.error(e);\n    }\n  };\n\n  // send email on mount\n  const emailSentOnMount = useRef(false);\n  useEffect(() => {\n    if (!emailSentOnMount.current) {\n      emailSentOnMount.current = true;\n      sendEmail();\n    }\n  }, [sendEmail]);\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    flex: \"column\",\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        title: \"Sign in\",\n        onBack: props.goBack\n      })\n    }), /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"y\",\n      children: /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n        },\n        children: [/*#__PURE__*/jsxs(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [!isWideModal && /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          }), /*#__PURE__*/jsx(Text, {\n            children: \"Enter the OTP sent to\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"sm\"\n          }), /*#__PURE__*/jsx(Text, {\n            color: \"primaryText\",\n            children: email\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xxl\"\n          })]\n        }), /*#__PURE__*/jsx(OTPInput, {\n          isInvalid: verifyStatus === \"invalid\",\n          digits: 6,\n          value: otpInput,\n          setValue: value => {\n            setOtpInput(value);\n            setVerifyStatus(\"idle\"); // reset error\n            handleSubmit(value);\n          },\n          onEnter: () => {\n            handleSubmit(otpInput);\n          }\n        }), verifyStatus === \"invalid\" && /*#__PURE__*/jsxs(FadeIn, {\n          children: [/*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsx(Text, {\n            size: \"sm\",\n            color: \"danger\",\n            center: true,\n            children: \"Invalid OTP\"\n          })]\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xxl\"\n        }), /*#__PURE__*/jsx(Container, {\n          px: isWideModal ? \"xxl\" : \"lg\",\n          children: verifyStatus === \"verifying\" ? /*#__PURE__*/jsx(Fragment, {\n            children: /*#__PURE__*/jsx(Container, {\n              flex: \"row\",\n              center: \"x\",\n              animate: \"fadein\",\n              children: /*#__PURE__*/jsx(Spinner, {\n                size: \"lg\",\n                color: \"accentText\"\n              })\n            })\n          }) : /*#__PURE__*/jsx(Container, {\n            animate: \"fadein\",\n            children: /*#__PURE__*/jsx(Button, {\n              onClick: () => handleSubmit(otpInput),\n              variant: \"accent\",\n              type: \"submit\",\n              style: {\n                width: \"100%\"\n              },\n              children: \"Verify\"\n            })\n          }, \"btn-container\")\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xxl\"\n        }), !isWideModal && /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n          p: isWideModal ? undefined : \"lg\",\n          children: [sendEmailOtpStatus === \"error\" && /*#__PURE__*/jsxs(Fragment, {\n            children: [/*#__PURE__*/jsx(Text, {\n              size: \"sm\",\n              center: true,\n              color: \"danger\",\n              children: \"Failed to send OTP\"\n            }), /*#__PURE__*/jsx(Spacer, {\n              y: \"md\"\n            })]\n          }), sendEmailOtpStatus === \"sending\" && /*#__PURE__*/jsxs(Container, {\n            flex: \"row\",\n            center: \"both\",\n            gap: \"xs\",\n            style: {\n              textAlign: \"center\"\n            },\n            children: [/*#__PURE__*/jsx(Text, {\n              size: \"sm\",\n              children: \"Sending OTP\"\n            }), /*#__PURE__*/jsx(Spinner, {\n              size: \"xs\",\n              color: \"secondaryText\"\n            })]\n          }), sendEmailOtpStatus === \"sent\" && /*#__PURE__*/jsx(LinkButton, {\n            onClick: sendEmail,\n            type: \"button\",\n            children: \"Resend OTP\"\n          })]\n        })]\n      })\n    })]\n  });\n};\nconst LinkButton = styled.button`\n  all: unset;\n  color: ${p => p.theme.colors.accentText};\n  font-size: ${fontSize.sm};\n  cursor: pointer;\n  text-align: center;\n  font-weight: 500;\n  width: 100%;\n  &:hover {\n    color: ${p => p.theme.colors.primaryText};\n  }\n`;\n\nconst embeddedWallet = config => {\n  return {\n    category: \"socialLogin\",\n    id: EmbeddedWallet.id,\n    recommended: config?.recommended,\n    meta: {\n      ...EmbeddedWallet.meta,\n      name: \"Email\",\n      iconURL: emailIcon\n    },\n    create(options) {\n      return new EmbeddedWallet({\n        ...options,\n        ...config,\n        clientId: options?.clientId ?? \"\"\n      });\n    },\n    selectUI(props) {\n      return /*#__PURE__*/jsx(EmbeddedWalletSelectionUI, {\n        ...props\n      });\n    },\n    connectUI(props) {\n      return /*#__PURE__*/jsx(EmbeddedWalletConnectUI, {\n        ...props\n      });\n    }\n  };\n};\nconst EmbeddedWalletSelectionUI = props => {\n  const screen = useScreenContext();\n\n  // show the icon + text if\n  // wide -\n  // compact + not main screen (safe/smart wallet list screen)\n  if (props.modalSize === \"wide\" || screen !== reservedScreens.main && props.modalSize === \"compact\") {\n    return /*#__PURE__*/jsx(WalletEntryButton, {\n      walletConfig: props.walletConfig,\n      selectWallet: () => {\n        props.onSelect(undefined);\n      }\n    });\n  }\n  return /*#__PURE__*/jsx(\"div\", {\n    children: /*#__PURE__*/jsx(EmbeddedWalletFormUI, {\n      showOrSeparator: props.supportedWallets.length > 1,\n      onSelect: props.onSelect,\n      walletConfig: props.walletConfig\n    })\n  });\n};\nconst EmbeddedWalletConnectUI = props => {\n  const [loginType, setLoginType] = useState(props.selectionData);\n  if (loginType) {\n    const handleBack = () => {\n      // go back to base screen\n      if (props.modalSize === \"wide\") {\n        setLoginType(undefined);\n      }\n\n      // go to main screen\n      else {\n        props.goBack();\n      }\n    };\n    if (\"email\" in loginType) {\n      return /*#__PURE__*/jsx(EmbeddedWalletOTPLoginUI, {\n        ...props,\n        selectionData: loginType.email,\n        goBack: handleBack\n      });\n    }\n\n    // google\n    else {\n      return /*#__PURE__*/jsx(EmbeddedWalletGoogleLogin, {\n        ...props,\n        goBack: handleBack\n      });\n    }\n  }\n  return /*#__PURE__*/jsx(EmbeddedWalletFormUIScreen, {\n    modalSize: props.modalSize,\n    onSelect: _loginType => {\n      setLoginType(_loginType);\n    },\n    walletConfig: props.walletConfig,\n    onBack: props.goBack\n  });\n};\n\nfunction useLocalWalletInfo(localWalletConfig, persist) {\n  const [walletData, setWalletData] = useState(\"loading\");\n  const createWalletInstance = useCreateWalletInstance();\n  const [localWallet, setLocalWallet] = useState(null);\n  useEffect(() => {\n    const wallet = createWalletInstance(localWalletConfig);\n    setLocalWallet(wallet);\n    if (persist) {\n      wallet.getSavedData().then(data => {\n        setWalletData(data);\n      });\n    }\n  }, [createWalletInstance, localWalletConfig, persist]);\n  return {\n    setLocalWallet,\n    localWallet,\n    walletData,\n    meta: localWalletConfig.meta,\n    persist: persist\n  };\n}\n\nconst DragNDrop = props => {\n  const [error, setError] = useState(false);\n  const [uploaded, setUploaded] = useState();\n  const [isDragging, setIsDragging] = useState(false);\n  const dragIn = e => {\n    setError(false);\n    setUploaded(undefined);\n    setIsDragging(true);\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const dragOut = e => {\n    setIsDragging(false);\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleFileUpload = file => {\n    if (file.type !== props.accept) {\n      setError(true);\n    } else {\n      setUploaded(file);\n      props.onUpload(file);\n    }\n  };\n  const drop = e => {\n    setIsDragging(false);\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      const fileContent = e.dataTransfer.files[0];\n      if (fileContent) {\n        handleFileUpload(fileContent);\n        e.dataTransfer.clearData();\n      }\n    }\n  };\n  const message = isMobile() ? \"Click to Upload\" : \"Drop your file here or click to upload\";\n  return /*#__PURE__*/jsx(\"div\", {\n    onDragEnter: dragIn,\n    onDragLeave: dragOut,\n    onDragOver: e => {\n      setIsDragging(true);\n      e.preventDefault();\n      e.stopPropagation();\n    },\n    onClick: () => {\n      setError(false);\n    },\n    onDrop: drop,\n    style: {\n      cursor: \"pointer\"\n    },\n    children: /*#__PURE__*/jsxs(\"label\", {\n      htmlFor: \"file-upload\",\n      children: [/*#__PURE__*/jsx(\"input\", {\n        id: \"file-upload\",\n        type: \"file\",\n        accept: props.accept,\n        multiple: false,\n        style: {\n          display: \"none\"\n        },\n        onChange: e => {\n          if (e.target.files && e.target.files[0]) {\n            handleFileUpload(e.target.files[0]);\n          }\n        }\n      }), /*#__PURE__*/jsx(DropContainer, {\n        \"data-error\": error,\n        \"data-is-dragging\": isDragging,\n        children: !uploaded ? /*#__PURE__*/jsxs(Fragment, {\n          children: [\" \", /*#__PURE__*/jsx(UploadIconSecondary, {\n            width: iconSize.lg,\n            height: iconSize.lg\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsxs(Text, {\n            color: \"primaryText\",\n            weight: 600,\n            center: true,\n            multiline: true,\n            children: [\" \", message]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"lg\"\n          }), error ? /*#__PURE__*/jsxs(Text, {\n            color: \"danger\",\n            size: \"sm\",\n            children: [\" \", \"Please upload a \", props.extension, \" file\", \" \"]\n          }) : /*#__PURE__*/jsxs(Text, {\n            size: \"sm\",\n            children: [\" \", props.extension, \" \"]\n          })]\n        }) : /*#__PURE__*/jsxs(Fragment, {\n          children: [/*#__PURE__*/jsxs(Text, {\n            weight: 600,\n            color: \"primaryText\",\n            center: true,\n            multiline: true,\n            children: [uploaded.name, \" uploaded successfully\"]\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"md\"\n          }), /*#__PURE__*/jsx(Container, {\n            color: \"success\",\n            children: /*#__PURE__*/jsx(CheckCircleIcon, {\n              size: iconSize.xl\n            })\n          })]\n        })\n      })]\n    })\n  });\n};\nconst UploadIconSecondary = styled(UploadIcon)`\n  color: ${props => props.theme.colors.secondaryIconColor};\n  transition:\n    transform 200ms ease,\n    color 200ms ease;\n`;\nconst DropContainer = styled.div`\n  border: 2px solid ${p => p.theme.colors.borderColor};\n  border-radius: ${radius.md};\n  padding: ${spacing.xl} ${spacing.md};\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  cursor: pointer;\n  transition: border-color 200ms ease;\n\n  &:hover,\n  &[data-is-dragging=\"true\"] {\n    border-color: ${p => p.theme.colors.accentText};\n    svg {\n      color: ${p => p.theme.colors.accentText};\n    }\n  }\n\n  &[data-error=\"true\"] {\n    border-color: ${p => p.theme.colors.danger};\n  }\n`;\nconst CheckCircleIcon = props => /*#__PURE__*/jsxs(\"svg\", {\n  width: props.size,\n  height: props.size,\n  viewBox: \"0 0 38 38\",\n  fill: \"none\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: [/*#__PURE__*/jsx(\"path\", {\n    d: \"M35.6666 17.4671V19.0004C35.6645 22.5945 34.5008 26.0916 32.3488 28.9701C30.1969 31.8487 27.1721 33.9546 23.7255 34.9736C20.279 35.9926 16.5954 35.8703 13.224 34.6247C9.85272 33.3792 6.97434 31.0773 5.01819 28.0622C3.06203 25.0472 2.1329 21.4805 2.36938 17.8943C2.60586 14.308 3.99526 10.8943 6.33039 8.16221C8.66551 5.43012 11.8212 3.52606 15.3269 2.734C18.8326 1.94194 22.5004 2.30432 25.7833 3.76709\",\n    stroke: \"currentColor\",\n    strokeWidth: \"3.33333\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/jsx(\"path\", {\n    d: \"M35.6667 5.66699L19 22.3503L14 17.3503\",\n    stroke: \"currentColor\",\n    strokeWidth: \"3.33333\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })]\n});\n\nconst ImportLocalWallet = props => {\n  const [jsonString, setJsonString] = useState();\n  const {\n    setLocalWallet,\n    meta\n  } = useLocalWalletInfo(props.localWalletConf, props.persist);\n  const createWalletInstance = useCreateWalletInstance();\n  const [password, setPassword] = useState(\"\");\n  const [isWrongPassword, setIsWrongPassword] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [importedAddress, setImportedAddress] = useState();\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const handleImport = async () => {\n    const localWallet = createWalletInstance(props.localWalletConf);\n    if (!localWallet || !jsonString) {\n      throw new Error(\"Invalid state\");\n    }\n    try {\n      await localWallet.import({\n        encryptedJson: jsonString,\n        password\n      });\n    } catch (e) {\n      console.error(e);\n      setIsWrongPassword(true);\n      return;\n    }\n    setConnectionStatus(\"connecting\");\n    await localWallet.connect();\n    await localWallet.save({\n      strategy: \"encryptedJson\",\n      password\n    });\n    setConnectedWallet(localWallet);\n    setLocalWallet(localWallet);\n    props.onConnect();\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.goBack,\n        title: \"Import Wallet\",\n        imgSrc: meta.iconURL\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      p: \"lg\",\n      children: [/*#__PURE__*/jsx(ModalDescription, {\n        sm: true,\n        children: \"The application can authorize any transactions on behalf of the wallet without any approvals.\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xs\"\n      }), /*#__PURE__*/jsx(ModalDescription, {\n        sm: true,\n        children: \"We recommend only connecting to trusted applications.\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsx(DragNDrop, {\n        extension: \"JSON\",\n        accept: \"application/json\",\n        onUpload: file => {\n          const reader = new FileReader();\n          reader.onload = event => {\n            setJsonString(event.target?.result);\n            const obj = JSON.parse(event.target?.result);\n            setImportedAddress(obj.address);\n          };\n          reader.readAsText(file, \"utf-8\");\n        }\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleImport();\n        },\n        children: [jsonString && /*#__PURE__*/jsxs(Fragment, {\n          children: [/*#__PURE__*/jsx(\"input\", {\n            type: \"text\",\n            name: \"username\",\n            autoComplete: \"off\",\n            value: importedAddress || \"\",\n            disabled: true,\n            style: {\n              display: \"none\"\n            }\n          }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n            required: true,\n            noSave: true,\n            name: \"password\",\n            autocomplete: \"off\",\n            id: \"password\",\n            onChange: value => {\n              setPassword(value);\n              setIsWrongPassword(false);\n            },\n            right: {\n              onClick: () => setShowPassword(!showPassword),\n              icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {})\n            },\n            label: \"Password\",\n            type: showPassword ? \"text\" : \"password\",\n            value: password,\n            error: isWrongPassword ? \"Wrong Password\" : \"\"\n          }), /*#__PURE__*/jsx(Spacer, {\n            y: \"xl\"\n          })]\n        }), /*#__PURE__*/jsx(Container, {\n          flex: \"row\",\n          style: {\n            justifyContent: \"flex-end\"\n          },\n          children: /*#__PURE__*/jsx(Button, {\n            variant: \"accent\",\n            type: \"submit\",\n            disabled: !jsonString,\n            style: {\n              minWidth: \"110px\",\n              opacity: jsonString ? 1 : 0.5\n            },\n            children: \"Import\"\n          })\n        })]\n      })]\n    })]\n  });\n};\n\nconst CreateLocalWallet_Password = props => {\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const passwordMismatch = confirmPassword && password !== confirmPassword;\n  const [isConnecting, setIsConnecting] = useState(false);\n  const {\n    localWallet\n  } = useLocalWalletInfo(props.localWalletConf, props.persist);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [showImportScreen, setShowImportScreen] = useState(false);\n  const [generatedAddress, setGeneratedAddress] = useState(null);\n\n  // generating wallet before it's required to render a form with hidden address as username for better autofill\n  useEffect(() => {\n    if (!localWallet || showImportScreen || localWallet.ethersWallet) {\n      return;\n    }\n    localWallet.generate().then(_address => {\n      setGeneratedAddress(_address);\n    });\n  }, [localWallet, showImportScreen]);\n  if (showImportScreen) {\n    return /*#__PURE__*/jsx(ImportLocalWallet, {\n      localWalletConf: props.localWalletConf,\n      onConnect: props.onConnect,\n      goBack: () => {\n        setShowImportScreen(false);\n      },\n      persist: props.persist\n    });\n  }\n  const handleConnect = async () => {\n    if (passwordMismatch || !localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    setIsConnecting(true);\n    setConnectionStatus(\"connecting\");\n    await localWallet.connect();\n    await localWallet.save({\n      strategy: \"encryptedJson\",\n      password\n    });\n    setConnectedWallet(localWallet);\n    setIsConnecting(false);\n    props.onConnect();\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.renderBackButton ? props.goBack : undefined,\n        title: props.localWalletConf.meta.name,\n        imgSrc: props.localWalletConf.meta.iconURL\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      p: \"lg\",\n      children: [/*#__PURE__*/jsxs(ModalDescription, {\n        sm: true,\n        children: [\"Choose a password for your wallet. \", /*#__PURE__*/jsx(\"br\", {}), \" You\", `'`, \"ll be able to access and export this wallet with the same password.\"]\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleConnect();\n        },\n        children: [/*#__PURE__*/jsx(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          autoComplete: \"off\",\n          value: generatedAddress || \"\",\n          disabled: true,\n          style: {\n            display: \"none\"\n          }\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          name: \"password\",\n          required: true,\n          autocomplete: \"new-password\",\n          id: \"new-password\",\n          onChange: value => setPassword(value),\n          right: {\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {}),\n            onClick: () => setShowPassword(!showPassword)\n          },\n          label: \"Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: password,\n          dataTest: \"new-password\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"lg\"\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          name: \"confirm-password\",\n          required: true,\n          autocomplete: \"new-password\",\n          id: \"confirm-password\",\n          onChange: value => setConfirmPassword(value),\n          right: {\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {}),\n            onClick: () => setShowPassword(!showPassword)\n          },\n          label: \"Confirm Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: confirmPassword,\n          error: passwordMismatch ? \"Passwords don't match\" : \"\",\n          dataTest: \"confirm-password\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"lg\"\n        }), /*#__PURE__*/jsxs(Button, {\n          variant: \"accent\",\n          type: \"submit\",\n          fullWidth: true,\n          style: {\n            gap: spacing.xs,\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          \"data-test\": \"create-new-wallet-button\",\n          children: [!isConnecting && /*#__PURE__*/jsx(PlusIcon, {\n            width: iconSize.sm,\n            height: iconSize.sm\n          }), isConnecting ? \"Connecting\" : \"Create new wallet\", isConnecting && /*#__PURE__*/jsx(Spinner, {\n            size: \"sm\",\n            color: \"accentButtonText\"\n          })]\n        })]\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsx(TextDivider, {\n        children: /*#__PURE__*/jsx(\"span\", {\n          children: \"OR\"\n        })\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"lg\"\n      }), /*#__PURE__*/jsxs(Button, {\n        fullWidth: true,\n        variant: \"outline\",\n        onClick: () => {\n          setShowImportScreen(true);\n        },\n        style: {\n          display: \"flex\",\n          gap: spacing.sm,\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/jsx(PinBottomIcon, {\n          width: iconSize.sm,\n          height: iconSize.sm\n        }), \"Import wallet\"]\n      })]\n    })]\n  });\n};\nconst CreateLocalWallet_Guest = props => {\n  const {\n    localWallet\n  } = useLocalWalletInfo(props.localWallet, props.persist);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const {\n    onConnect\n  } = props;\n  const handleConnect = useCallback(async () => {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    await localWallet.generate();\n    setConnectionStatus(\"connecting\");\n    await wait(1000);\n    await localWallet.connect();\n    setConnectedWallet(localWallet);\n    onConnect();\n  }, [localWallet, setConnectedWallet, onConnect, setConnectionStatus]);\n  const connecting = useRef(false);\n  useEffect(() => {\n    if (connecting.current || !localWallet) {\n      return;\n    }\n    connecting.current = true;\n    handleConnect();\n  }, [handleConnect, localWallet]);\n  return /*#__PURE__*/jsx(Container, {\n    flex: \"row\",\n    center: \"both\",\n    fullHeight: true,\n    style: {\n      minHeight: \"300px\"\n    },\n    children: /*#__PURE__*/jsx(Spinner, {\n      size: \"xl\",\n      color: \"accentText\"\n    })\n  });\n};\n\nconst OverrideConfirmation = props => {\n  return /*#__PURE__*/jsxs(Container, {\n    p: \"lg\",\n    children: [/*#__PURE__*/jsx(ModalHeader, {\n      onBack: props.onBack,\n      title: \"Warning\"\n    }), /*#__PURE__*/jsx(Spacer, {\n      y: \"xl\"\n    }), /*#__PURE__*/jsxs(Container, {\n      children: [/*#__PURE__*/jsx(Text, {\n        multiline: true,\n        children: \"Your current wallet will be deleted if you create a new wallet. Backup wallet to your device before creating a new wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(Container, {\n        flex: \"row\",\n        style: {\n          justifyContent: \"flex-end\"\n        },\n        children: /*#__PURE__*/jsx(Button, {\n          variant: \"accent\",\n          fullWidth: true,\n          onClick: props.onBackup,\n          children: \"Backup wallet\"\n        })\n      })]\n    })]\n  });\n};\n\n/**\n * For No-Credential scenario\n */\nconst ReconnectLocalWallet = props => {\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [isWrongPassword, setIsWrongPassword] = useState(false);\n  const {\n    setConnectedWallet,\n    setConnectionStatus\n  } = useWalletContext();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [showCreate, setShowCreate] = useState(false);\n  const [showBackupConfirmation, setShowBackupConfirmation] = useState(false);\n  const [showExport, setShowExport] = useState(false);\n  const {\n    localWallet,\n    meta,\n    walletData\n  } = useLocalWalletInfo(props.localWallet, props.persist);\n  const savedAddress = walletData ? walletData === \"loading\" ? \"\" : walletData.address : \"\";\n  if (showExport) {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    return /*#__PURE__*/jsx(ExportLocalWallet, {\n      modalSize: props.modalSize,\n      localWalletConfig: props.localWallet,\n      onBack: () => {\n        setShowExport(false);\n      },\n      onExport: () => {\n        setShowExport(false);\n        setShowBackupConfirmation(false);\n        setShowCreate(true);\n      }\n    });\n  }\n  if (showBackupConfirmation) {\n    return /*#__PURE__*/jsx(OverrideConfirmation, {\n      meta: meta,\n      onBackup: () => {\n        setShowExport(true);\n      },\n      onBack: () => {\n        setShowBackupConfirmation(false);\n      }\n    });\n  }\n  if (showCreate) {\n    return /*#__PURE__*/jsx(CreateLocalWallet_Password, {\n      renderBackButton: props.supportedWallets.length > 1,\n      localWalletConf: props.localWallet,\n      goBack: () => {\n        setShowCreate(false);\n      },\n      onConnect: props.onConnect,\n      persist: props.persist\n    });\n  }\n  const handleReconnect = async () => {\n    if (!localWallet) {\n      throw new Error(\"Invalid state\");\n    }\n    setIsConnecting(true);\n    try {\n      await localWallet.load({\n        strategy: \"encryptedJson\",\n        password\n      });\n      setConnectionStatus(\"connecting\");\n      await localWallet.connect();\n      setConnectedWallet(localWallet);\n      props.onConnect();\n    } catch (e) {\n      setIsWrongPassword(true);\n    }\n    setIsConnecting(false);\n  };\n  return /*#__PURE__*/jsxs(Container, {\n    animate: \"fadein\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        onBack: props.renderBackButton ? props.goBack : undefined,\n        title: meta.name,\n        imgSrc: meta.iconURL\n      })\n    }), /*#__PURE__*/jsx(Line, {}), /*#__PURE__*/jsxs(Container, {\n      p: \"lg\",\n      children: [/*#__PURE__*/jsx(Text, {\n        multiline: true,\n        size: \"lg\",\n        color: \"primaryText\",\n        children: \"Connect to saved wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(Label, {\n        children: \"Saved Wallet\"\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"sm\"\n      }), /*#__PURE__*/jsx(Text, {\n        children: savedAddress === \"\" ? \"Loading...\" : shortenAddress(savedAddress)\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsxs(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          handleReconnect();\n        },\n        children: [/*#__PURE__*/jsx(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          autoComplete: \"off\",\n          value: savedAddress,\n          disabled: true,\n          style: {\n            display: \"none\"\n          }\n        }), /*#__PURE__*/jsx(FormFieldWithIconButton, {\n          required: true,\n          name: \"current-password\",\n          autocomplete: \"current-password\",\n          id: \"current-password\",\n          onChange: value => {\n            setPassword(value);\n            setIsWrongPassword(false);\n          },\n          right: {\n            onClick: () => setShowPassword(!showPassword),\n            icon: showPassword ? /*#__PURE__*/jsx(EyeClosedIcon, {}) : /*#__PURE__*/jsx(EyeOpenIcon, {})\n          },\n          label: \"Password\",\n          type: showPassword ? \"text\" : \"password\",\n          value: password,\n          error: isWrongPassword ? \"Wrong Password\" : \"\",\n          dataTest: \"current-password\",\n          placeholder: \"Enter your password\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"md\"\n        }), /*#__PURE__*/jsxs(Button, {\n          variant: \"accent\",\n          type: \"submit\",\n          fullWidth: true,\n          style: {\n            display: \"flex\",\n            gap: spacing.sm\n          },\n          children: [\"Continue\", isConnecting && /*#__PURE__*/jsx(Spinner, {\n            size: \"sm\",\n            color: \"accentButtonText\"\n          })]\n        })]\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(TextDivider, {\n        children: /*#__PURE__*/jsx(\"span\", {\n          children: \" OR \"\n        })\n      }), /*#__PURE__*/jsx(Spacer, {\n        y: \"xl\"\n      }), /*#__PURE__*/jsx(Button, {\n        variant: \"outline\",\n        fullWidth: true,\n        style: {\n          textAlign: \"center\"\n        },\n        onClick: () => {\n          setShowBackupConfirmation(true);\n        },\n        children: \"Create a new wallet\"\n      })]\n    })]\n  });\n};\n\nconst LocalWalletConnectUI = props => {\n  const {\n    walletData\n  } = useLocalWalletInfo(props.walletConfig, props.persist);\n  if (!props.persist) {\n    return /*#__PURE__*/jsx(CreateLocalWallet_Guest, {\n      persist: props.persist,\n      localWallet: props.walletConfig,\n      goBack: props.goBack,\n      onConnect: props.close\n    });\n  }\n  if (walletData === \"loading\") {\n    return /*#__PURE__*/jsx(Container, {\n      flex: \"row\",\n      center: \"both\",\n      style: {\n        height: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Spinner, {\n        size: \"lg\",\n        color: \"accentText\"\n      })\n    });\n  }\n  if (walletData) {\n    return /*#__PURE__*/jsx(ReconnectLocalWallet, {\n      modalSize: props.modalSize,\n      renderBackButton: props.supportedWallets.length > 1,\n      supportedWallets: props.supportedWallets,\n      onConnect: props.close,\n      goBack: props.goBack,\n      localWallet: props.walletConfig,\n      persist: props.persist\n    });\n  }\n  return /*#__PURE__*/jsx(CreateLocalWallet_Password, {\n    goBack: props.goBack,\n    localWalletConf: props.walletConfig,\n    onConnect: props.close,\n    renderBackButton: props.supportedWallets.length > 1,\n    persist: props.persist\n  });\n};\n\nconst localWallet = config => {\n  return {\n    id: LocalWallet.id,\n    meta: {\n      ...LocalWallet.meta,\n      name: \"Guest Wallet\",\n      iconURL: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiByeD0iMTIiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8xXzY0KSIvPgo8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMV82NCkiPgo8cGF0aCBkPSJNNTguNzUgMTkuMTY2N0gyMS4yNUMxOC45NTgzIDE5LjE2NjcgMTcuMDgzMyAyMS4wNDE3IDE3LjA4MzMgMjMuMzMzNFY0OC4zMzM0QzE3LjA4MzMgNTAuNjI1IDE4Ljk1ODMgNTIuNSAyMS4yNSA1Mi41SDM1LjgzMzNMMzEuNjY2NyA1OC43NVY2MC44MzM0SDQ4LjMzMzNWNTguNzVMNDQuMTY2NyA1Mi41SDU4Ljc1QzYxLjA0MTcgNTIuNSA2Mi45MTY3IDUwLjYyNSA2Mi45MTY3IDQ4LjMzMzRWMjMuMzMzNEM2Mi45MTY3IDIxLjA0MTcgNjEuMDQxNyAxOS4xNjY3IDU4Ljc1IDE5LjE2NjdaTTU4Ljc1IDQ0LjE2NjdIMjEuMjVWMjMuMzMzNEg1OC43NVY0NC4xNjY3WiIgZmlsbD0id2hpdGUiLz4KPC9nPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzFfNjQiIHgxPSI0MCIgeTE9IjAiIHgyPSI0MCIgeTI9IjgwIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNDRTExQUIiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjOTAwQkI1Ii8+CjwvbGluZWFyR3JhZGllbnQ+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMV82NCI+CjxyZWN0IHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1IDE1KSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=\"\n    },\n    create: options => new LocalWallet(options),\n    connectUI(props) {\n      return /*#__PURE__*/jsx(LocalWalletConnectUI, {\n        ...props,\n        persist: config && config.persist !== undefined ? config.persist : true\n      });\n    }\n  };\n};\n\nconst SmartWalletConnecting = props => {\n  const activeWallet = useWallet(); // personal wallet\n\n  const connect = useConnect();\n  const connectedChain = useChain();\n  const targetChain = useWalletContext().activeChain;\n  const mismatch = useNetworkMismatch();\n  const [connectError, setConnectError] = useState(false);\n  const [switchError, setSwitchError] = useState(false);\n  const [switchingNetwork, setSwitchingNetwork] = useState(false);\n  const connectionStatus = useConnectionStatus();\n  const {\n    onConnect\n  } = props;\n  const connectStarted = useRef(false);\n  const switchChain = useSwitchChain();\n  const modalSize = useContext(ModalConfigCtx).modalSize;\n  const handleConnect = useCallback(async () => {\n    if (!activeWallet || !connectedChain || connectStarted.current) {\n      return;\n    }\n    setConnectError(false);\n    try {\n      connectStarted.current = true;\n      await connect(props.smartWallet, {\n        personalWallet: activeWallet\n      });\n      onConnect();\n    } catch (e) {\n      console.error(e);\n      setConnectError(true);\n    }\n  }, [activeWallet, connectedChain, connect, props.smartWallet, onConnect]);\n  useEffect(() => {\n    if (!mismatch) {\n      handleConnect();\n    }\n  }, [mismatch, handleConnect, activeWallet, connectedChain]);\n  if (!connectError && (connectionStatus === \"connecting\" || !mismatch)) {\n    return /*#__PURE__*/jsx(Container, {\n      fullHeight: true,\n      flex: \"column\",\n      center: \"both\",\n      style: {\n        minHeight: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Spinner, {\n        color: \"accentText\",\n        size: \"xl\"\n      })\n    });\n  }\n  if (connectError) {\n    return /*#__PURE__*/jsx(Container, {\n      fullHeight: true,\n      animate: \"fadein\",\n      flex: \"column\",\n      center: \"both\",\n      p: \"lg\",\n      style: {\n        minHeight: \"300px\"\n      },\n      children: /*#__PURE__*/jsx(Text, {\n        color: \"danger\",\n        children: \"Failed to connect to Smart Wallet\"\n      })\n    });\n  }\n  return /*#__PURE__*/jsxs(Container, {\n    fullHeight: true,\n    animate: \"fadein\",\n    flex: \"column\",\n    children: [/*#__PURE__*/jsx(Container, {\n      p: \"lg\",\n      children: /*#__PURE__*/jsx(ModalHeader, {\n        title: props.personalWallet.meta.name,\n        imgSrc: props.personalWallet.meta.iconURL,\n        onBack: props.onBack\n      })\n    }), modalSize === \"compact\" && /*#__PURE__*/jsx(Spacer, {\n      y: \"lg\"\n    }), /*#__PURE__*/jsx(Container, {\n      expand: true,\n      flex: \"column\",\n      center: \"both\",\n      p: \"lg\",\n      children: /*#__PURE__*/jsxs(Container, {\n        p: modalSize === \"wide\" ? \"lg\" : undefined,\n        children: [/*#__PURE__*/jsx(Container, {\n          flex: \"row\",\n          center: \"x\",\n          color: \"danger\",\n          children: /*#__PURE__*/jsx(ExclamationTriangleIcon, {\n            width: iconSize.lg,\n            height: iconSize.lg\n          })\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"md\"\n        }), /*#__PURE__*/jsx(Text, {\n          size: \"lg\",\n          color: \"primaryText\",\n          center: true,\n          weight: 500,\n          children: \"Wrong Network\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"lg\"\n        }), /*#__PURE__*/jsx(Text, {\n          multiline: true,\n          center: true,\n          children: \"Your wallet is not connected to the required network\"\n        }), /*#__PURE__*/jsx(Spacer, {\n          y: \"xl\"\n        }), /*#__PURE__*/jsxs(Container, {\n          flex: \"column\",\n          gap: \"md\",\n          children: [/*#__PURE__*/jsxs(Button, {\n            type: \"button\",\n            fullWidth: true,\n            variant: \"accent\",\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: spacing.sm\n            },\n            onClick: async () => {\n              if (!activeWallet) {\n                throw new Error(\"No active wallet\");\n              }\n              setConnectError(false);\n              setSwitchError(false);\n              setSwitchingNetwork(true);\n              try {\n                await switchChain(targetChain.chainId);\n              } catch (e) {\n                setSwitchError(true);\n              } finally {\n                setSwitchingNetwork(false);\n              }\n            },\n            children: [\" \", switchingNetwork ? \"Switching\" : \"Switch Network\", switchingNetwork && /*#__PURE__*/jsx(Spinner, {\n              size: \"sm\",\n              color: \"accentButtonText\"\n            })]\n          }), /*#__PURE__*/jsxs(Container, {\n            flex: \"row\",\n            gap: \"sm\",\n            center: \"both\",\n            color: \"danger\",\n            style: {\n              textAlign: \"center\",\n              fontSize: fontSize.sm,\n              opacity: switchError ? 1 : 0,\n              transition: \"opacity 200ms ease\"\n            },\n            children: [/*#__PURE__*/jsx(ExclamationTriangleIcon, {\n              width: iconSize.sm,\n              height: iconSize.sm\n            }), /*#__PURE__*/jsx(\"span\", {\n              children: \"Failed to switch network\"\n            })]\n          })]\n        })]\n      })\n    })]\n  });\n};\n\nconst smartWallet = (wallet, config) => {\n  const WalletSelectUI = wallet.selectUI;\n  return {\n    ...wallet,\n    create: options => new SmartWallet({\n      ...options,\n      ...config\n    }),\n    connectUI(props) {\n      return /*#__PURE__*/jsx(SmartConnectUI, {\n        ...props,\n        personalWallet: wallet\n      });\n    },\n    selectUI: WalletSelectUI ? props => {\n      return /*#__PURE__*/jsx(WalletSelectUI, {\n        ...props,\n        walletConfig: wallet\n      });\n    } : undefined,\n    personalWallets: [wallet]\n  };\n};\nconst SmartConnectUI = props => {\n  const activeWallet = useWallet();\n  const {\n    walletConfig\n  } = props;\n  const PersonalWalletConfig = props.personalWallet;\n  if (!activeWallet) {\n    const _props = {\n      ...props,\n      walletConfig: PersonalWalletConfig,\n      close: () => props.close(false)\n    };\n    if (PersonalWalletConfig.connectUI) {\n      return /*#__PURE__*/jsx(PersonalWalletConfig.connectUI, {\n        ..._props\n      });\n    }\n    return /*#__PURE__*/jsx(HeadlessConnectUI, {\n      ..._props\n    });\n  }\n  return /*#__PURE__*/jsx(SmartWalletConnecting, {\n    onBack: props.goBack,\n    onConnect: props.close,\n    smartWallet: walletConfig,\n    personalWallet: props.personalWallet\n  });\n};\n\nvar smartWallet$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  smartWallet: smartWallet,\n  SmartConnectUI: SmartConnectUI\n});\n\nexport { embeddedWallet, localWallet, smartWallet, useSmartWallet };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}