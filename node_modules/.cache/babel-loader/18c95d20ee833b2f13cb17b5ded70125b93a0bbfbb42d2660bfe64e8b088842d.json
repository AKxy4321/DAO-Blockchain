{"ast":null,"code":"var _jsxFileName = \"C:\\\\Misc\\\\Documents\\\\Career\\\\FinTech\\\\BlockChain\\\\FrontEnd\\\\buildspace-dao-starter\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport { useAddress, useNetwork, useContract, ConnectWallet, Web3Button, useNFTBalance } from '@thirdweb-dev/react';\nimport { ChainId } from '@thirdweb-dev/sdk';\nimport { useState, useEffect, useMemo } from 'react';\nimport { AddressZero } from '@ethersproject/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const address = useAddress();\n  const network = useNetwork();\n  console.log('üëã Address:', address);\n  const editionDropAddress = process.env.EDITION_DROP_ADDRESS;\n  const {\n    contract: editionDrop\n  } = useContract(editionDropAddress, 'edition-drop');\n  // Initialize our token contract\n  const {\n    contract: token\n  } = useContract(process.env.TOKEN_ADDRESS, 'token');\n  const {\n    contract: vote\n  } = useContract(process.env.VOTE_ADDRESS, 'vote');\n  // Hook to check if the user has our NFT\n  const {\n    data: nftBalance\n  } = useNFTBalance(editionDrop, address, '0');\n  const hasClaimedNFT = useMemo(() => {\n    return nftBalance && nftBalance.gt(0);\n  }, [nftBalance]);\n\n  // Holds the amount of token each member has in state.\n  const [memberTokenAmounts, setMemberTokenAmounts] = useState([]);\n  // The array holding all of our members addresses.\n  const [memberAddresses, setMemberAddresses] = useState([]);\n\n  // A fancy function to shorten someones wallet address, no need to show the whole thing.\n  const shortenAddress = str => {\n    return str.substring(0, 6) + '...' + str.substring(str.length - 4);\n  };\n  const [proposals, setProposals] = useState([]);\n  const [isVoting, setIsVoting] = useState(false);\n  const [hasVoted, setHasVoted] = useState(false);\n\n  // Retrieve all our existing proposals from the contract.\n  useEffect(() => {\n    if (!hasClaimedNFT) {\n      return;\n    }\n\n    // A simple call to vote.getAll() to grab the proposals.\n    const getAllProposals = async () => {\n      try {\n        const proposals = await vote.getAll();\n        setProposals(proposals);\n        console.log('üåà Proposals:', proposals);\n      } catch (error) {\n        console.log('failed to get proposals', error);\n      }\n    };\n    getAllProposals();\n  }, [hasClaimedNFT, vote]);\n\n  // We also need to check if the user already voted.\n  useEffect(() => {\n    if (!hasClaimedNFT) {\n      return;\n    }\n\n    // If we haven't finished retrieving the proposals from the useEffect above\n    // then we can't check if the user voted yet!\n    if (!proposals.length) {\n      return;\n    }\n    const checkIfUserHasVoted = async () => {\n      try {\n        const hasVoted = await vote.hasVoted(proposals[0].proposalId, address);\n        setHasVoted(hasVoted);\n        if (hasVoted) {\n          console.log('ü•µ User has already voted');\n        } else {\n          console.log('üôÇ User has not voted yet');\n        }\n      } catch (error) {\n        console.error('Failed to check if wallet has voted', error);\n      }\n    };\n    checkIfUserHasVoted();\n  }, [hasClaimedNFT, proposals, address, vote]);\n\n  // This useEffect grabs all the addresses of our members holding our NFT.\n  useEffect(() => {\n    if (!hasClaimedNFT) {\n      return;\n    }\n\n    // Just like we did in the 7-airdrop-token.js file! Grab the users who hold our NFT\n    // with tokenId 0.\n    const getAllAddresses = async () => {\n      try {\n        const memberAddresses = await (editionDrop === null || editionDrop === void 0 ? void 0 : editionDrop.history.getAllClaimerAddresses(0));\n        setMemberAddresses(memberAddresses);\n        console.log('üöÄ Members addresses', memberAddresses);\n      } catch (error) {\n        console.error('failed to get member list', error);\n      }\n    };\n    getAllAddresses();\n  }, [hasClaimedNFT, editionDrop === null || editionDrop === void 0 ? void 0 : editionDrop.history]);\n\n  // This useEffect grabs the # of token each member holds.\n  useEffect(() => {\n    if (!hasClaimedNFT) {\n      return;\n    }\n    const getAllBalances = async () => {\n      try {\n        const amounts = await (token === null || token === void 0 ? void 0 : token.history.getAllHolderBalances());\n        setMemberTokenAmounts(amounts);\n        console.log('üëú Amounts', amounts);\n      } catch (error) {\n        console.error('failed to get member balances', error);\n      }\n    };\n    getAllBalances();\n  }, [hasClaimedNFT, token === null || token === void 0 ? void 0 : token.history]);\n\n  // Now, we combine the memberAddresses and memberTokenAmounts into a single array\n  const memberList = useMemo(() => {\n    return memberAddresses.map(address => {\n      // We're checking if we are finding the address in the memberTokenAmounts array.\n      // If we are, we'll return the amount of token the user has.\n      // Otherwise, return 0.\n      const member = memberTokenAmounts === null || memberTokenAmounts === void 0 ? void 0 : memberTokenAmounts.find(({\n        holder\n      }) => holder === address);\n      return {\n        address,\n        tokenAmount: (member === null || member === void 0 ? void 0 : member.balance.displayValue) || '0'\n      };\n    });\n  }, [memberAddresses, memberTokenAmounts]);\n  if (address && (network === null || network === void 0 ? void 0 : network[0].data.chain.id) !== ChainId.Mumbai) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"unsupported-network\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Please connect to Mumbai\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"This dapp only works on the Mumbai network, please switch networks in your connected wallet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this);\n  }\n\n  // This is the case where the user hasn't connected their wallet\n  // to your web app. Let them call connectWallet.\n  if (!address) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"landing\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Welcome to DemonSlayerDAO\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-hero\",\n        children: /*#__PURE__*/_jsxDEV(ConnectWallet, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this);\n  }\n\n  // If the user has already claimed their NFT we want to display the interal DAO page to them\n  // only DAO members will see this. Render all the members + token amounts.\n  if (hasClaimedNFT) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"member-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83C\\uDF6ADAO Member Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Congratulations on being a member\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Member List\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Token Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: memberList.map(member => {\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: shortenAddress(member.address)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: member.tokenAmount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 23\n                  }, this)]\n                }, member.address, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Active Proposals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: async e => {\n              e.preventDefault();\n              e.stopPropagation();\n\n              //before we do async things, we want to disable the button to prevent double clicks\n              setIsVoting(true);\n\n              // lets get the votes from the form for the values\n              const votes = proposals.map(proposal => {\n                const voteResult = {\n                  proposalId: proposal.proposalId,\n                  //abstain by default\n                  vote: 2\n                };\n                proposal.votes.forEach(vote => {\n                  const elem = document.getElementById(proposal.proposalId + '-' + vote.type);\n                  if (elem.checked) {\n                    voteResult.vote = vote.type;\n                    return;\n                  }\n                });\n                return voteResult;\n              });\n\n              // first we need to make sure the user delegates their token to vote\n              try {\n                //we'll check if the wallet still needs to delegate their tokens before they can vote\n                const delegation = await token.getDelegationOf(address);\n                // if the delegation is the 0x0 address that means they have not delegated their governance tokens yet\n                if (delegation === AddressZero) {\n                  //if they haven't delegated their tokens yet, we'll have them delegate them before voting\n                  await token.delegateTo(address);\n                }\n                // then we need to vote on the proposals\n                try {\n                  await Promise.all(votes.map(async ({\n                    proposalId,\n                    vote: _vote\n                  }) => {\n                    // before voting we first need to check whether the proposal is open for voting\n                    // we first need to get the latest state of the proposal\n                    const proposal = await vote.get(proposalId);\n                    // then we check if the proposal is open for voting (state === 1 means it is open)\n                    if (proposal.state === 1) {\n                      // if it is open for voting, we'll vote on it\n                      return vote.vote(proposalId, _vote);\n                    }\n                    // if the proposal is not open for voting we just return nothing, letting us continue\n                    return;\n                  }));\n                  try {\n                    // if any of the propsals are ready to be executed we'll need to execute them\n                    // a proposal is ready to be executed if it is in state 4\n                    await Promise.all(votes.map(async ({\n                      proposalId\n                    }) => {\n                      // we'll first get the latest state of the proposal again, since we may have just voted before\n                      const proposal = await vote.get(proposalId);\n\n                      //if the state is in state 4 (meaning that it is ready to be executed), we'll execute the proposal\n                      if (proposal.state === 4) {\n                        return vote.execute(proposalId);\n                      }\n                    }));\n                    // if we get here that means we successfully voted, so let's set the \"hasVoted\" state to true\n                    setHasVoted(true);\n                    // and log out a success message\n                    console.log('successfully voted');\n                  } catch (err) {\n                    console.error('failed to execute votes', err);\n                  }\n                } catch (err) {\n                  console.error('failed to vote', err);\n                }\n              } catch (err) {\n                console.error('failed to delegate tokens');\n              } finally {\n                // in *either* case we need to set the isVoting state to false to enable the button again\n                setIsVoting(false);\n              }\n            },\n            children: [proposals.map(proposal => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: proposal.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: proposal.votes.map(({\n                  type,\n                  label\n                }) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    id: proposal.proposalId + '-' + type,\n                    name: proposal.proposalId,\n                    value: type\n                    //default the \"abstain\" vote to checked\n                    ,\n                    defaultChecked: type === 2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: proposal.proposalId + '-' + type,\n                    children: label\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 25\n                  }, this)]\n                }, type, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 19\n              }, this)]\n            }, proposal.proposalId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: isVoting || hasVoted,\n              type: \"submit\",\n              children: isVoting ? 'Voting...' : hasVoted ? 'You Already Voted' : 'Submit Votes'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 15\n            }, this), !hasVoted && /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"This will trigger multiple transactions that you will need to sign.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Render mint nft screen.\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mint-nft\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Mint your free \\uD83C\\uDF6ADAO Membership NFT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"btn-hero\",\n      children: /*#__PURE__*/_jsxDEV(Web3Button, {\n        contractAddress: editionDropAddress,\n        action: contract => {\n          contract.erc1155.claim(0, 1);\n        },\n        onSuccess: () => {\n          console.log(`üåä Successfully Minted! Check it out on OpenSea: https://testnets.opensea.io/assets/${editionDrop.getAddress()}/0`);\n        },\n        onError: error => {\n          console.error('Failed to mint NFT', error);\n        },\n        children: \"Mint your NFT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 342,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"uYf7W1j1J9NiLtVK4jGcRzZ/SP0=\", false, function () {\n  return [useAddress, useNetwork, useContract, useContract, useContract, useNFTBalance];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useAddress","useNetwork","useContract","ConnectWallet","Web3Button","useNFTBalance","ChainId","useState","useEffect","useMemo","AddressZero","jsxDEV","_jsxDEV","App","_s","address","network","console","log","editionDropAddress","process","env","EDITION_DROP_ADDRESS","contract","editionDrop","token","TOKEN_ADDRESS","vote","VOTE_ADDRESS","data","nftBalance","hasClaimedNFT","gt","memberTokenAmounts","setMemberTokenAmounts","memberAddresses","setMemberAddresses","shortenAddress","str","substring","length","proposals","setProposals","isVoting","setIsVoting","hasVoted","setHasVoted","getAllProposals","getAll","error","checkIfUserHasVoted","proposalId","getAllAddresses","history","getAllClaimerAddresses","getAllBalances","amounts","getAllHolderBalances","memberList","map","member","find","holder","tokenAmount","balance","displayValue","chain","id","Mumbai","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","e","preventDefault","stopPropagation","votes","proposal","voteResult","forEach","elem","document","getElementById","type","checked","delegation","getDelegationOf","delegateTo","Promise","all","_vote","get","state","execute","err","description","label","name","value","defaultChecked","htmlFor","disabled","contractAddress","action","erc1155","claim","onSuccess","getAddress","onError","_c","$RefreshReg$"],"sources":["C:/Misc/Documents/Career/FinTech/BlockChain/FrontEnd/buildspace-dao-starter/src/App.jsx"],"sourcesContent":["import {\r\n  useAddress,\r\n  useNetwork,\r\n  useContract,\r\n  ConnectWallet,\r\n  Web3Button,\r\n  useNFTBalance,\r\n} from '@thirdweb-dev/react';\r\nimport { ChainId } from '@thirdweb-dev/sdk';\r\nimport { useState, useEffect, useMemo } from 'react';\r\nimport { AddressZero } from '@ethersproject/constants';\r\n\r\nconst App = () => {\r\n\r\n  const address = useAddress();\r\n  const network = useNetwork();\r\n  console.log('üëã Address:', address);\r\n\r\n  const editionDropAddress = process.env.EDITION_DROP_ADDRESS;\r\n  const { contract: editionDrop } = useContract(\r\n    editionDropAddress,\r\n    'edition-drop',\r\n  );\r\n  // Initialize our token contract\r\n  const { contract: token } = useContract(\r\n    process.env.TOKEN_ADDRESS,\r\n    'token',\r\n  );\r\n  const { contract: vote } = useContract(\r\n    process.env.VOTE_ADDRESS,\r\n    'vote',\r\n  );\r\n  // Hook to check if the user has our NFT\r\n  const { data: nftBalance } = useNFTBalance(editionDrop, address, '0');\r\n\r\n  const hasClaimedNFT = useMemo(() => {\r\n    return nftBalance && nftBalance.gt(0);\r\n  }, [nftBalance]);\r\n\r\n  // Holds the amount of token each member has in state.\r\n  const [memberTokenAmounts, setMemberTokenAmounts] = useState([]);\r\n  // The array holding all of our members addresses.\r\n  const [memberAddresses, setMemberAddresses] = useState([]);\r\n\r\n  // A fancy function to shorten someones wallet address, no need to show the whole thing.\r\n  const shortenAddress = (str) => {\r\n    return str.substring(0, 6) + '...' + str.substring(str.length - 4);\r\n  };\r\n\r\n  const [proposals, setProposals] = useState([]);\r\n  const [isVoting, setIsVoting] = useState(false);\r\n  const [hasVoted, setHasVoted] = useState(false);\r\n\r\n  // Retrieve all our existing proposals from the contract.\r\n  useEffect(() => {\r\n    if (!hasClaimedNFT) {\r\n      return;\r\n    }\r\n\r\n    // A simple call to vote.getAll() to grab the proposals.\r\n    const getAllProposals = async () => {\r\n      try {\r\n        const proposals = await vote.getAll();\r\n        setProposals(proposals);\r\n        console.log('üåà Proposals:', proposals);\r\n      } catch (error) {\r\n        console.log('failed to get proposals', error);\r\n      }\r\n    };\r\n    getAllProposals();\r\n  }, [hasClaimedNFT, vote]);\r\n\r\n  // We also need to check if the user already voted.\r\n  useEffect(() => {\r\n    if (!hasClaimedNFT) {\r\n      return;\r\n    }\r\n\r\n    // If we haven't finished retrieving the proposals from the useEffect above\r\n    // then we can't check if the user voted yet!\r\n    if (!proposals.length) {\r\n      return;\r\n    }\r\n\r\n    const checkIfUserHasVoted = async () => {\r\n      try {\r\n        const hasVoted = await vote.hasVoted(proposals[0].proposalId, address);\r\n        setHasVoted(hasVoted);\r\n        if (hasVoted) {\r\n          console.log('ü•µ User has already voted');\r\n        } else {\r\n          console.log('üôÇ User has not voted yet');\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to check if wallet has voted', error);\r\n      }\r\n    };\r\n    checkIfUserHasVoted();\r\n  }, [hasClaimedNFT, proposals, address, vote]);\r\n\r\n  // This useEffect grabs all the addresses of our members holding our NFT.\r\n  useEffect(() => {\r\n    if (!hasClaimedNFT) {\r\n      return;\r\n    }\r\n\r\n    // Just like we did in the 7-airdrop-token.js file! Grab the users who hold our NFT\r\n    // with tokenId 0.\r\n    const getAllAddresses = async () => {\r\n      try {\r\n        const memberAddresses =\r\n          await editionDrop?.history.getAllClaimerAddresses(0);\r\n        setMemberAddresses(memberAddresses);\r\n        console.log('üöÄ Members addresses', memberAddresses);\r\n      } catch (error) {\r\n        console.error('failed to get member list', error);\r\n      }\r\n    };\r\n    getAllAddresses();\r\n  }, [hasClaimedNFT, editionDrop?.history]);\r\n\r\n  // This useEffect grabs the # of token each member holds.\r\n  useEffect(() => {\r\n    if (!hasClaimedNFT) {\r\n      return;\r\n    }\r\n\r\n    const getAllBalances = async () => {\r\n      try {\r\n        const amounts = await token?.history.getAllHolderBalances();\r\n        setMemberTokenAmounts(amounts);\r\n        console.log('üëú Amounts', amounts);\r\n      } catch (error) {\r\n        console.error('failed to get member balances', error);\r\n      }\r\n    };\r\n    getAllBalances();\r\n  }, [hasClaimedNFT, token?.history]);\r\n\r\n  // Now, we combine the memberAddresses and memberTokenAmounts into a single array\r\n  const memberList = useMemo(() => {\r\n    return memberAddresses.map((address) => {\r\n      // We're checking if we are finding the address in the memberTokenAmounts array.\r\n      // If we are, we'll return the amount of token the user has.\r\n      // Otherwise, return 0.\r\n      const member = memberTokenAmounts?.find(\r\n        ({ holder }) => holder === address,\r\n      );\r\n\r\n      return {\r\n        address,\r\n        tokenAmount: member?.balance.displayValue || '0',\r\n      };\r\n    });\r\n  }, [memberAddresses, memberTokenAmounts]);\r\n\r\n  if (address && network?.[0].data.chain.id !== ChainId.Mumbai) {\r\n    return (\r\n      <div className=\"unsupported-network\">\r\n        <h2>Please connect to Mumbai</h2>\r\n        <p>\r\n          This dapp only works on the Mumbai network, please switch networks in\r\n          your connected wallet.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // This is the case where the user hasn't connected their wallet\r\n  // to your web app. Let them call connectWallet.\r\n  if (!address) {\r\n    return (\r\n      <div className=\"landing\">\r\n        <h1>Welcome to DemonSlayerDAO</h1>\r\n        <div className=\"btn-hero\">\r\n          <ConnectWallet />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // If the user has already claimed their NFT we want to display the interal DAO page to them\r\n  // only DAO members will see this. Render all the members + token amounts.\r\n  if (hasClaimedNFT) {\r\n    return (\r\n      <div className=\"member-page\">\r\n        <h1>üç™DAO Member Page</h1>\r\n        <p>Congratulations on being a member</p>\r\n        <div>\r\n          <div>\r\n            <h2>Member List</h2>\r\n            <table className=\"card\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Address</th>\r\n                  <th>Token Amount</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {memberList.map((member) => {\r\n                  return (\r\n                    <tr key={member.address}>\r\n                      <td>{shortenAddress(member.address)}</td>\r\n                      <td>{member.tokenAmount}</td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div>\r\n            <h2>Active Proposals</h2>\r\n            <form\r\n              onSubmit={async (e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                //before we do async things, we want to disable the button to prevent double clicks\r\n                setIsVoting(true);\r\n\r\n                // lets get the votes from the form for the values\r\n                const votes = proposals.map((proposal) => {\r\n                  const voteResult = {\r\n                    proposalId: proposal.proposalId,\r\n                    //abstain by default\r\n                    vote: 2,\r\n                  };\r\n                  proposal.votes.forEach((vote) => {\r\n                    const elem = document.getElementById(\r\n                      proposal.proposalId + '-' + vote.type,\r\n                    );\r\n\r\n                    if (elem.checked) {\r\n                      voteResult.vote = vote.type;\r\n                      return;\r\n                    }\r\n                  });\r\n                  return voteResult;\r\n                });\r\n\r\n                // first we need to make sure the user delegates their token to vote\r\n                try {\r\n                  //we'll check if the wallet still needs to delegate their tokens before they can vote\r\n                  const delegation = await token.getDelegationOf(address);\r\n                  // if the delegation is the 0x0 address that means they have not delegated their governance tokens yet\r\n                  if (delegation === AddressZero) {\r\n                    //if they haven't delegated their tokens yet, we'll have them delegate them before voting\r\n                    await token.delegateTo(address);\r\n                  }\r\n                  // then we need to vote on the proposals\r\n                  try {\r\n                    await Promise.all(\r\n                      votes.map(async ({ proposalId, vote: _vote }) => {\r\n                        // before voting we first need to check whether the proposal is open for voting\r\n                        // we first need to get the latest state of the proposal\r\n                        const proposal = await vote.get(proposalId);\r\n                        // then we check if the proposal is open for voting (state === 1 means it is open)\r\n                        if (proposal.state === 1) {\r\n                          // if it is open for voting, we'll vote on it\r\n                          return vote.vote(proposalId, _vote);\r\n                        }\r\n                        // if the proposal is not open for voting we just return nothing, letting us continue\r\n                        return;\r\n                      }),\r\n                    );\r\n                    try {\r\n                      // if any of the propsals are ready to be executed we'll need to execute them\r\n                      // a proposal is ready to be executed if it is in state 4\r\n                      await Promise.all(\r\n                        votes.map(async ({ proposalId }) => {\r\n                          // we'll first get the latest state of the proposal again, since we may have just voted before\r\n                          const proposal = await vote.get(proposalId);\r\n\r\n                          //if the state is in state 4 (meaning that it is ready to be executed), we'll execute the proposal\r\n                          if (proposal.state === 4) {\r\n                            return vote.execute(proposalId);\r\n                          }\r\n                        }),\r\n                      );\r\n                      // if we get here that means we successfully voted, so let's set the \"hasVoted\" state to true\r\n                      setHasVoted(true);\r\n                      // and log out a success message\r\n                      console.log('successfully voted');\r\n                    } catch (err) {\r\n                      console.error('failed to execute votes', err);\r\n                    }\r\n                  } catch (err) {\r\n                    console.error('failed to vote', err);\r\n                  }\r\n                } catch (err) {\r\n                  console.error('failed to delegate tokens');\r\n                } finally {\r\n                  // in *either* case we need to set the isVoting state to false to enable the button again\r\n                  setIsVoting(false);\r\n                }\r\n              }}\r\n            >\r\n              {proposals.map((proposal) => (\r\n                <div key={proposal.proposalId} className=\"card\">\r\n                  <h5>{proposal.description}</h5>\r\n                  <div>\r\n                    {proposal.votes.map(({ type, label }) => (\r\n                      <div key={type}>\r\n                        <input\r\n                          type=\"radio\"\r\n                          id={proposal.proposalId + '-' + type}\r\n                          name={proposal.proposalId}\r\n                          value={type}\r\n                          //default the \"abstain\" vote to checked\r\n                          defaultChecked={type === 2}\r\n                        />\r\n                        <label htmlFor={proposal.proposalId + '-' + type}>\r\n                          {label}\r\n                        </label>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              <button disabled={isVoting || hasVoted} type=\"submit\">\r\n                {isVoting\r\n                  ? 'Voting...'\r\n                  : hasVoted\r\n                  ? 'You Already Voted'\r\n                  : 'Submit Votes'}\r\n              </button>\r\n              {!hasVoted && (\r\n                <small>\r\n                  This will trigger multiple transactions that you will need to\r\n                  sign.\r\n                </small>\r\n              )}\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Render mint nft screen.\r\n  return (\r\n    <div className=\"mint-nft\">\r\n      <h1>Mint your free üç™DAO Membership NFT</h1>\r\n      <div className=\"btn-hero\">\r\n        <Web3Button\r\n          contractAddress={editionDropAddress}\r\n          action={(contract) => {\r\n            contract.erc1155.claim(0, 1);\r\n          }}\r\n          onSuccess={() => {\r\n            console.log(\r\n              `üåä Successfully Minted! Check it out on OpenSea: https://testnets.opensea.io/assets/${editionDrop.getAddress()}/0`,\r\n            );\r\n          }}\r\n          onError={(error) => {\r\n            console.error('Failed to mint NFT', error);\r\n          }}\r\n        >\r\n          Mint your NFT \r\n        </Web3Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}